<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Online Editor with Examples</title>
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/lint/lint.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: rgb(28, 28, 29);
            color: #fff;
            min-height: 100vh;
            padding: 0;
        }
        
        /* Navbar with animations */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1em 2em;
            background-color: #282c34;
            color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            animation: slideDown 0.8s ease-out;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .logo h1 {
            font-size: 1.5em;
            color: #61dafb;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo h1 i {
            font-size: 1.8rem;
        }
        
        .nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        #backBtn {
            background-color: #61dafb;
            color: #282c34;
            border: none;
            padding: 0.6em 1.5em;
            cursor: pointer;
            border-radius: 4px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        #backBtn:hover {
            background-color: #4fa8c7;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(97, 218, 251, 0.3);
        }
        
        /* Main container with animation */
        .main-container {
            display: flex;
            flex-wrap: wrap;
            padding: 2em;
            gap: 30px;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Editor section - 2/3 width */
        .editor-section {
            flex: 2;
            min-width: 300px;
            animation: slideInLeft 0.8s ease-out;
        }

        @keyframes slideInLeft {
            from {
                transform: translateX(-50px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Examples section - 1/3 width */
        .examples-section {
            flex: 1;
            min-width: 300px;
            animation: slideInRight 0.8s ease-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(50px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        h1, h2 {
            margin-bottom: 20px;
            color: #61dafb;
        }
        
        h1 {
            text-align: center;
            margin-top: 20px;
        }
        
        h2 {
            border-bottom: 2px solid #61dafb;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        /* Editor container */
        .editor-container {
            width: 100%;
            margin: 0 auto 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .editor-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        /* Console container */
        .console-container {
            width: 100%;
            height: 200px;
            background-color: #1e1e1e;
            color: #ffffff;
            padding: 15px;
            font-family: 'Courier New', monospace;
            border-radius: 10px;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border-left: 4px solid #61dafb;
            transition: all 0.3s ease;
        }
        
        .console-container:hover {
            border-left-color: #4fa8c7;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Button container with animation */
        .button-container {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        button {
            background-color: #61dafb;
            color: #282c34;
            border: none;
            padding: 0.7em 1.5em;
            cursor: pointer;
            margin: 0 5px;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        button:hover {
            background-color: #4fa8c7;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(97, 218, 251, 0.3);
        }
        
        button:active {
            transform: translateY(-1px);
        }
        
        /* Examples grid - 4 cards per row */
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        @media (min-width: 1200px) {
            .examples-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 1100px) {
            .examples-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .examples-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* Example card with animations */
        .example-card {
            background-color: #2c2c2c;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid #3a3a3a;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            height: 100%;
            position: relative;
            overflow: hidden;
            /* Initial state for animation */
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* In-view animation for cards */
        .example-card.in-view {
            animation: cardEntrance 0.6s forwards;
        }

        @keyframes cardEntrance {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        /* Stagger animation delay for each card */
        .example-card:nth-child(2n+1).in-view { animation-delay: 0.1s; }
        .example-card:nth-child(2n+2).in-view { animation-delay: 0.2s; }
        
        /* Glow effect on hover */
        .example-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #61dafb, #4fa8c7, #61dafb);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }
        
        .example-card:hover::before {
            transform: translateX(0);
        }
        
        .example-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.2);
            border-color: #61dafb;
        }
        
        .example-card h3 {
            color: #61dafb;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1em;
        }
        
        .example-card p {
            color: #ccc;
            font-size: 0.9em;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .example-card .code-preview {
            background-color: #1e1e1e;
            border-radius: 6px;
            padding: 10px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            color: #4fc3f7;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            border-left: 3px solid #61dafb;
        }
        
        /* Footer with animation */
        .footer {
            text-align: center;
            padding: 2em;
            background-color: #282c34;
            color: white;
            margin-top: 2em;
            animation: fadeIn 1.5s ease-out;
        }
        
        /* Scroll indicator */
        .scroll-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background-color: #61dafb;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .scroll-indicator.visible {
            opacity: 1;
        }
        
        .scroll-indicator:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(97, 218, 251, 0.4);
        }
        
        /* Responsive adjustments */
        @media (max-width: 1100px) {
            .main-container {
                flex-direction: column;
            }
            
            .editor-section, .examples-section {
                width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                padding: 1em;
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-right {
                width: 100%;
                justify-content: space-between;
            }
            
            .main-container {
                padding: 1em;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                justify-content: center;
                margin-bottom: 10px;
            }
        }
        
        /* Console message styles */
        .console-message {
            margin-bottom: 5px;
            padding: 3px 0;
            border-bottom: 1px solid #333;
        }
        
        .console-error {
            color: #ff6b6b;
        }
        
        .console-success {
            color: #4CAF50;
        }
        
        .console-info {
            color: #61dafb;
        }
        
        /* Loading animation */
        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }
        
        .loading {
            animation: pulse 1.5s infinite;
        }
    </style>
</head>
<body>
    <!-- Scroll to top button -->
    <div class="scroll-indicator" id="scrollToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <!-- Navigation bar -->
    <nav class="navbar">
        <div class="logo">
            <h1><i class="fas fa-code"></i> JavaScript Editor</h1>
        </div>
        <div class="nav-right">
            <button id="backBtn"><i class="fas fa-arrow-left"></i> Back to Languages</button>
        </div>
    </nav>

    <!-- Main container with editor and examples -->
    <div class="main-container">
        <!-- Editor Section -->
        <div class="editor-section">
            <h2><i class="fas fa-edit"></i> JavaScript Editor</h2>
            
            <div class="editor-container">
                <textarea id="js-editor">
// Write your JavaScript code here
console.log("Hello, World!");

// Try some examples:
// 1. Variables and data types
let name = "JavaScript";
const version = "ES6";
console.log(\`Welcome to \${name} version \${version}\`);

// 2. Functions
function greet(user) {
    return \`Hello, \${user}!\`;
}
console.log(greet("Developer"));

// 3. Array methods
const numbers = [1, 2, 3, 4, 5];
const doubled = numbers.map(n => n * 2);
console.log("Doubled numbers:", doubled);

// 4. Objects
const person = {
    name: "Alice",
    age: 25,
    greet() {
        console.log(\`Hi, I'm \${this.name}\`);
    }
};
person.greet();
                </textarea>
            </div>
            
            <div class="button-container">
                <button onclick="runCode()"><i class="fas fa-play"></i> Run Code</button>
                <button onclick="formatCode()"><i class="fas fa-align-left"></i> Format Code</button>
                <button onclick="clearConsole()"><i class="fas fa-trash-alt"></i> Clear Console</button>
                <button onclick="saveCode()"><i class="fas fa-save"></i> Save Code</button>
                <button onclick="loadCode()"><i class="fas fa-folder-open"></i> Load Code</button>
            </div>
            
            <h2><i class="fas fa-terminal"></i> Console Output</h2>
            <div class="console-container" id="console-output">
                <div class="console-message console-info">Console Output:</div>
                <div class="console-message console-success">Ready to execute JavaScript code!</div>
            </div>
        </div>
        
        <!-- Examples Section -->
        <div class="examples-section">
            <h2><i class="fas fa-lightbulb"></i> JavaScript Examples</h2>
            <p>Click on any example to load it into the editor:</p>
            
            <div class="examples-grid">
                <!-- Example Cards - Each will be 1/2 of the width (2 per row) -->
                <div class="example-card" data-example="variables">
                    <h3><i class="fas fa-code"></i> Variables & Data Types</h3>
                    <p>Learn about let, const, and different data types in JavaScript</p>
                    <div class="code-preview">let name = "JS"; const pi = 3.14;</div>
                </div>
                
                <div class="example-card" data-example="functions">
                    <h3><i class="fas fa-function"></i> Functions</h3>
                    <p>Function declarations, expressions, and arrow functions</p>
                    <div class="code-preview">const add = (a, b) => a + b;</div>
                </div>
                
                <div class="example-card" data-example="arrays">
                    <h3><i class="fas fa-list"></i> Array Methods</h3>
                    <p>map, filter, reduce and other array methods with examples</p>
                    <div class="code-preview">[1,2,3].map(x => x*2); // [2,4,6]</div>
                </div>
                
                <div class="example-card" data-example="objects">
                    <h3><i class="fas fa-cube"></i> Objects & Classes</h3>
                    <p>Working with objects, classes, and object-oriented programming</p>
                    <div class="code-preview">class Person { constructor(name) { this.name = name; } }</div>
                </div>
                
                <div class="example-card" data-example="dom">
                    <h3><i class="fas fa-window-maximize"></i> DOM Manipulation</h3>
                    <p>Selecting and modifying HTML elements with JavaScript</p>
                    <div class="code-preview">document.getElementById('demo').innerHTML = 'Hello';</div>
                </div>
                
                <div class="example-card" data-example="async">
                    <h3><i class="fas fa-sync-alt"></i> Async/Await</h3>
                    <p>Working with promises, async functions, and API calls</p>
                    <div class="code-preview">async function fetchData() { const res = await fetch(url); }</div>
                </div>
                
                <div class="example-card" data-example="events">
                    <h3><i class="fas fa-mouse-pointer"></i> Event Handling</h3>
                    <p>Handling user interactions like clicks, keypresses, and more</p>
                    <div class="code-preview">button.addEventListener('click', () => { alert('Clicked!'); });</div>
                </div>
                
                <div class="example-card" data-example="error">
                    <h3><i class="fas fa-exclamation-triangle"></i> Error Handling</h3>
                    <p>Try/catch blocks and proper error handling techniques</p>
                    <div class="code-preview">try { riskyCode(); } catch (err) { console.error(err); }</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>JavaScript Online Editor &copy; 2023 | Interactive coding environment</p>
        <p style="margin-top: 10px; font-size: 0.9rem;">
            <i class="fas fa-code-branch"></i> Try the examples or write your own code!
        </p>
    </footer>

    <!-- CodeMirror and Prettier Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/lint/lint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/lint/javascript-lint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.7.1/standalone.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettier/2.7.1/parser-babel.min.js"></script>

    <script>
        // Initialize the CodeMirror editor
        const editor = CodeMirror.fromTextArea(document.getElementById('js-editor'), {
            mode: 'javascript',             // JavaScript syntax highlighting
            theme: 'monokai',               // Theme
            lineNumbers: true,              // Show line numbers
            lineWrapping: true,             // Wrap long lines
            autoCloseBrackets: true,        // Auto-close brackets
            gutters: ["CodeMirror-lint-markers"],
            lint: true,                     // Enable linting
            extraKeys: {
                "Ctrl-Space": "autocomplete",
                "Ctrl-Enter": runCode,
                "Ctrl-F": formatCode
            }
        });
        
        // Set editor size
        editor.setSize("100%", "400px");

        // Redirect console.log output to the console container
        function captureConsoleOutput() {
            const originalConsoleLog = console.log;
            const originalConsoleError = console.error;
            const originalConsoleWarn = console.warn;
            const outputElement = document.getElementById('console-output');
            
            console.log = function(...args) {
                const message = args.map(arg => 
                    typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
                ).join(' ');
                
                const messageElement = document.createElement('div');
                messageElement.className = 'console-message';
                messageElement.textContent = '> ' + message;
                outputElement.appendChild(messageElement);
                
                originalConsoleLog.apply(console, args);
                outputElement.scrollTop = outputElement.scrollHeight;
            };
            
            console.error = function(...args) {
                const message = args.map(arg => 
                    typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
                ).join(' ');
                
                const messageElement = document.createElement('div');
                messageElement.className = 'console-message console-error';
                messageElement.textContent = '> ERROR: ' + message;
                outputElement.appendChild(messageElement);
                
                originalConsoleError.apply(console, args);
                outputElement.scrollTop = outputElement.scrollHeight;
            };
            
            console.warn = function(...args) {
                const message = args.map(arg => 
                    typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
                ).join(' ');
                
                const messageElement = document.createElement('div');
                messageElement.className = 'console-message';
                messageElement.style.color = '#ff9800';
                messageElement.textContent = '> WARNING: ' + message;
                outputElement.appendChild(messageElement);
                
                originalConsoleWarn.apply(console, args);
                outputElement.scrollTop = outputElement.scrollHeight;
            };
        }

        // Function to run the JavaScript code in the editor
        function runCode() {
            const outputElement = document.getElementById('console-output');
            outputElement.innerHTML = '<div class="console-message console-info">Running code...</div>';
            
            // Add a small delay to show the "running" message
            setTimeout(() => {
                captureConsoleOutput();
                const code = editor.getValue();
                try {
                    new Function(code)();
                } catch (error) {
                    console.error(error.toString());
                }
            }, 100);
        }

        // Function to format the JavaScript code
        function formatCode() {
            try {
                const unformattedCode = editor.getValue();
                const formattedCode = prettier.format(unformattedCode, {
                    parser: "babel",
                    plugins: prettierPlugins,
                    tabWidth: 4,
                    semi: true,
                    singleQuote: false
                });
                editor.setValue(formattedCode);
                
                // Show success message
                const outputElement = document.getElementById('console-output');
                const messageElement = document.createElement('div');
                messageElement.className = 'console-message console-success';
                messageElement.textContent = '> Code formatted successfully!';
                outputElement.appendChild(messageElement);
            } catch (error) {
                console.error('Formatting error: ' + error.message);
            }
        }

        // Function to clear the console output
        function clearConsole() {
            document.getElementById('console-output').innerHTML = 
                '<div class="console-message console-info">Console Output:</div>' +
                '<div class="console-message console-success">Console cleared. Ready for new output.</div>';
        }

        // Function to save code to localStorage
        function saveCode() {
            const code = editor.getValue();
            localStorage.setItem('jsEditorCode', code);
            
            const outputElement = document.getElementById('console-output');
            const messageElement = document.createElement('div');
            messageElement.className = 'console-message console-success';
            messageElement.textContent = '> Code saved successfully!';
            outputElement.appendChild(messageElement);
        }

        // Function to load code from localStorage
        function loadCode() {
            const savedCode = localStorage.getItem('jsEditorCode');
            if (savedCode) {
                editor.setValue(savedCode);
                
                const outputElement = document.getElementById('console-output');
                const messageElement = document.createElement('div');
                messageElement.className = 'console-message console-success';
                messageElement.textContent = '> Code loaded from storage!';
                outputElement.appendChild(messageElement);
            } else {
                console.error('No saved code found in storage.');
            }
        }

        // Load saved code on page load
        const savedCode = localStorage.getItem('jsEditorCode');
        if (savedCode) editor.setValue(savedCode);

        // Auto-save when editor changes
        let saveTimeout;
        editor.on('change', () => {
            clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                localStorage.setItem('jsEditorCode', editor.getValue());
            }, 1000);
        });

        // Back button functionality
        document.getElementById('backBtn').addEventListener('click', () => {
            // In a real application, this would navigate back to the language selection
            alert('This would navigate back to the language selection page in a real application.');
            // window.location.href = 'index.html'; // Uncomment in a real app
        });

        // Example cards functionality
        const exampleCards = document.querySelectorAll('.example-card');
        const examples = {
            variables: `// Variables and Data Types
let name = "JavaScript";
const version = "ES6";
var oldWay = "Avoid using var";

// Data Types
const number = 42;
const string = "Hello";
const boolean = true;
const array = [1, 2, 3];
const object = { key: "value" };
const nullValue = null;
let undefinedValue;

console.log("Name:", name);
console.log("Version:", version);
console.log("Number:", number);
console.log("Array:", array);
console.log("Object:", object);`,
            
            functions: `// Functions in JavaScript
// Function declaration
function greet(name) {
    return \`Hello, \${name}!\`;
}

// Function expression
const add = function(a, b) {
    return a + b;
};

// Arrow function (ES6)
const multiply = (a, b) => a * b;

// Higher-order function
function createMultiplier(multiplier) {
    return function(number) {
        return number * multiplier;
    };
}

// Test the functions
console.log(greet("Developer"));
console.log("2 + 3 =", add(2, 3));
console.log("4 * 5 =", multiply(4, 5));

const double = createMultiplier(2);
console.log("Double 10:", double(10));`,
            
            arrays: `// Array Methods
const numbers = [1, 2, 3, 4, 5];

// map - transform each element
const doubled = numbers.map(n => n * 2);

// filter - keep elements that pass a test
const evens = numbers.filter(n => n % 2 === 0);

// reduce - reduce array to a single value
const sum = numbers.reduce((total, n) => total + n, 0);

// find - find first element that passes test
const firstEven = numbers.find(n => n % 2 === 0);

// forEach - execute function for each element
console.log("Original array:", numbers);
numbers.forEach((n, i) => console.log(\`Index \${i}: \${n}\`));

console.log("Doubled:", doubled);
console.log("Even numbers:", evens);
console.log("Sum:", sum);
console.log("First even:", firstEven);`,
            
            objects: `// Objects and Classes
// Object literal
const person = {
    name: "Alice",
    age: 25,
    greet() {
        console.log(\`Hi, I'm \${this.name} and I'm \${this.age} years old.\`);
    }
};

// Class (ES6)
class Animal {
    constructor(name, sound) {
        this.name = name;
        this.sound = sound;
    }
    
    makeSound() {
        console.log(\`\${this.name} says: \${this.sound}\`);
    }
}

// Inheritance
class Dog extends Animal {
    constructor(name, breed) {
        super(name, "Woof!");
        this.breed = breed;
    }
    
    bark() {
        console.log(\`\${this.name} the \${this.breed} is barking!\`);
    }
}

// Using objects
person.greet();

const cat = new Animal("Whiskers", "Meow");
cat.makeSound();

const myDog = new Dog("Buddy", "Golden Retriever");
myDog.makeSound();
myDog.bark();`,
            
            dom: `// DOM Manipulation Examples
console.log("DOM Manipulation Examples");

// Creating elements
const newDiv = document.createElement('div');
newDiv.textContent = 'This is a new div created with JavaScript!';
newDiv.style.color = '#61dafb';
newDiv.style.padding = '10px';
newDiv.style.backgroundColor = '#2c2c2c';
newDiv.style.borderRadius = '5px';

// Modifying elements
document.body.appendChild(newDiv);

// Simulating element selection and manipulation
console.log("New div added to the page!");

// Event listener example
const simulateButton = document.createElement('button');
simulateButton.textContent = 'Click me!';
simulateButton.style.marginTop = '10px';
simulateButton.style.padding = '8px 16px';
simulateButton.style.backgroundColor = '#61dafb';
simulateButton.style.color = '#282c34';
simulateButton.style.border = 'none';
simulateButton.style.borderRadius = '4px';
simulateButton.style.cursor = 'pointer';

simulateButton.addEventListener('click', () => {
    console.log('Button clicked!');
    alert('Button was clicked!');
});

newDiv.appendChild(simulateButton);
console.log("Button added with click event listener!");`,
            
            async: `// Async/Await and Promises
console.log("Async/Await Examples");

// Simulating an API call with a promise
function fetchData(url) {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            if (url === 'https://api.example.com/data') {
                resolve({ data: 'Sample data from server', status: 200 });
            } else {
                reject(new Error('Failed to fetch data'));
            }
        }, 1000);
    });
}

// Using .then() and .catch()
fetchData('https://api.example.com/data')
    .then(response => {
        console.log('Promise resolved:', response);
        return response.data;
    })
    .then(data => {
        console.log('Data received:', data);
    })
    .catch(error => {
        console.error('Error:', error.message);
    });

// Using async/await
async function getData() {
    console.log('Fetching data with async/await...');
    try {
        const response = await fetchData('https://api.example.com/data');
        console.log('Async response:', response);
    } catch (error) {
        console.error('Async error:', error.message);
    }
}

// Call the async function
getData();`,
            
            events: `// Event Handling Examples
console.log("Event Handling Examples");

// Creating a button to demonstrate events
const eventButton = document.createElement('button');
eventButton.textContent = 'Event Demo Button';
eventButton.style.margin = '10px';
eventButton.style.padding = '10px 20px';
eventButton.style.backgroundColor = '#61dafb';
eventButton.style.color = '#282c34';
eventButton.style.border = 'none';
eventButton.style.borderRadius = '5px';
eventButton.style.cursor = 'pointer';

// Add the button to the body
document.body.appendChild(eventButton);

// Adding event listeners
eventButton.addEventListener('click', () => {
    console.log('Button was clicked!');
});

eventButton.addEventListener('mouseenter', () => {
    console.log('Mouse entered button');
    eventButton.style.transform = 'scale(1.05)';
});

eventButton.addEventListener('mouseleave', () => {
    console.log('Mouse left button');
    eventButton.style.transform = 'scale(1)';
});

// Keyboard events
document.addEventListener('keydown', (event) => {
    console.log(\`Key pressed: \${event.key}\`);
});

console.log("Event listeners added. Try clicking the button or pressing keys!");`,
            
            error: `// Error Handling Examples
console.log("Error Handling Examples");

// Basic try/catch
try {
    // This will throw an error
    undefinedFunction();
} catch (error) {
    console.error('Caught an error:', error.message);
}

// Finally block
try {
    console.log('Trying to execute code...');
    // This code will work
    const result = 10 / 2;
    console.log('Result:', result);
} catch (error) {
    console.error('Error:', error.message);
} finally {
    console.log('This always executes, error or not');
}

// Throwing custom errors
function divide(a, b) {
    if (b === 0) {
        throw new Error('Division by zero is not allowed');
    }
    return a / b;
}

try {
    console.log('10 / 2 =', divide(10, 2));
    console.log('10 / 0 =', divide(10, 0)); // This will throw
} catch (error) {
    console.error('Division error:', error.message);
}

console.log('Program continues after error handling');`
        };

        // Add click handlers to example cards
        exampleCards.forEach(card => {
            card.addEventListener('click', function() {
                const exampleType = this.dataset.example;
                const exampleCode = examples[exampleType];
                
                if (exampleCode) {
                    // Animate card click
                    this.style.transform = 'translateY(-8px) scale(1.02)';
                    setTimeout(() => {
                        this.style.transform = 'translateY(-8px) scale(1.02)';
                    }, 150);
                    
                    // Load example into editor
                    editor.setValue(exampleCode);
                    
                    // Show message in console
                    const outputElement = document.getElementById('console-output');
                    outputElement.innerHTML = 
                        '<div class="console-message console-info">Console Output:</div>' +
                        `<div class="console-message console-success">Loaded "${exampleType.replace(/^\w/, c => c.toUpperCase())}" example into editor!</div>`;
                    
                    // Scroll editor into view on mobile
                    if (window.innerWidth < 768) {
                        document.querySelector('.editor-section').scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });

        // In-view animations for example cards
        function checkCardVisibility() {
            const cards = document.querySelectorAll('.example-card:not(.in-view)');
            
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const isVisible = (
                    rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.9
                );
                
                if (isVisible) {
                    card.classList.add('in-view');
                }
            });
        }
        
        // Scroll to top functionality
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
            
            // Check card visibility on scroll
            checkCardVisibility();
        });
        
        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // Initial check for visible cards
        window.addEventListener('load', checkCardVisibility);
        setTimeout(checkCardVisibility, 100);
    </script>
</body>
</html>