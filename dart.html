<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dart Code Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/eclipse.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --dart-blue: #00B4AB;
            --dart-dark-blue: #0175C2;
            --dart-light-blue: #13B9FD;
            --dart-grey: #60656B;
            --dart-bg: #f8f9fa;
            --dart-dark-bg: #1a1d21;
            --success: #00C853;
            --error: #FF5252;
            --warning: #FFC107;
            --info: #2196F3;
            --border-radius: 10px;
            --shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            transition: var(--transition);
            min-height: 100vh;
            overflow-x: hidden;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #141e30 0%, #243b55 100%);
            color: #f0f0f0;
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes typewriter {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* Floating Dart Logo */
        .floating-dart {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--dart-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            z-index: 1000;
            animation: float 6s ease-in-out infinite;
            box-shadow: 0 10px 30px rgba(0, 180, 171, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .floating-dart:hover {
            background: var(--dart-dark-blue);
            transform: scale(1.2);
            animation: none;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            color: white;
            padding: 1.2rem 2.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            animation: slideIn 0.6s ease-out;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: var(--transition);
        }

        .logo:hover {
            transform: translateX(5px);
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--dart-blue);
            animation: pulse 2s infinite;
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0, 180, 171, 0.5);
        }

        .logo h1 {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--dart-blue), var(--dart-light-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            overflow: hidden;
        }

        .logo h1::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--dart-blue), var(--dart-light-blue));
            transition: width 0.4s ease;
        }

        .logo:hover h1::after {
            width: 100%;
        }

        .controls {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, var(--dart-blue), var(--dart-dark-blue));
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: var(--transition);
            font-weight: 600;
            position: relative;
            overflow: hidden;
            min-width: 130px;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 180, 171, 0.3);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .control-btn:hover::before {
            left: 100%;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 180, 171, 0.4);
        }

        .control-btn:active {
            transform: translateY(-1px);
        }

        .control-btn i {
            font-size: 1.2rem;
        }

        .run-btn {
            background: linear-gradient(135deg, var(--success), #00E676);
        }

        .clear-btn {
            background: linear-gradient(135deg, var(--warning), #FFD740);
            color: #333;
        }

        .debug-btn {
            background: linear-gradient(135deg, #9C27B0, #673AB7);
        }

        .about-btn {
            background: linear-gradient(135deg, #FF5722, #FF8A65);
        }

        .save-btn {
            background: linear-gradient(135deg, var(--info), #42A5F5);
        }

        /* Theme toggle */
        .theme-toggle {
            position: relative;
            width: 70px;
            height: 35px;
        }

        .theme-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--dart-blue), var(--dart-dark-blue));
            border-radius: 34px;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(0, 180, 171, 0.3);
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 27px;
            width: 27px;
            left: 4px;
            bottom: 4px;
            background: white;
            border-radius: 50%;
            transition: var(--transition);
            animation: pulse 2s infinite;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        input:checked + .toggle-slider {
            background: linear-gradient(135deg, #FF5722, #FF8A65);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(35px);
            background: #FFD700;
        }

        /* Main Container */
        .container {
            max-width: 95%;
            margin: 30px auto;
            padding: 0 20px;
            animation: fadeIn 0.8s ease-out;
        }

        /* Editor Section */
        .editor-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .editor-section {
                grid-template-columns: 1fr;
            }
        }

        .editor-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            animation: slideIn 0.5s ease-out 0.2s both;
            border: 1px solid rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        body.dark-mode .editor-panel {
            background: rgba(30, 30, 30, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .editor-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--dart-blue);
            position: relative;
        }

        .panel-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, var(--dart-blue), transparent);
        }

        .panel-header h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--dart-dark-blue);
            font-size: 1.5rem;
        }

        body.dark-mode .panel-header h2 {
            color: var(--dart-light-blue);
        }

        .panel-header h2 i {
            color: var(--dart-blue);
            animation: spin 4s linear infinite;
        }

        .editor-tools {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .tool-btn {
            background: rgba(0, 180, 171, 0.1);
            border: 1px solid rgba(0, 180, 171, 0.3);
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            color: var(--dart-dark-blue);
            font-weight: 500;
        }

        body.dark-mode .tool-btn {
            background: rgba(0, 180, 171, 0.2);
            border-color: rgba(0, 180, 171, 0.5);
            color: var(--dart-light-blue);
        }

        .tool-btn:hover {
            background: rgba(0, 180, 171, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 180, 171, 0.2);
        }

        .editor-container {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border: 2px solid transparent;
            height: 500px;
            transition: var(--transition);
            position: relative;
        }

        .editor-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--dart-blue), var(--dart-light-blue), var(--dart-blue));
            background-size: 200% 100%;
            animation: shimmer 2s infinite linear;
            z-index: 10;
        }

        .editor-container:hover {
            border-color: var(--dart-blue);
            box-shadow: 0 10px 40px rgba(0, 180, 171, 0.3);
        }

        .CodeMirror {
            height: 100% !important;
            font-size: 15px;
            line-height: 1.6;
            font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
            padding: 20px 0;
        }

        /* Terminal Panel */
        .terminal-panel {
            background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 0;
            box-shadow: var(--shadow);
            animation: slideIn 0.5s ease-out 0.3s both;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            height: 500px;
            position: relative;
            overflow: hidden;
        }

        .terminal-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--success), #00E676, var(--success));
            background-size: 200% 100%;
            animation: shimmer 2s infinite linear;
        }

        .terminal-header {
            background: #1a1d21;
            padding: 15px 25px;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .terminal-title {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #fff;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .terminal-title i {
            color: var(--dart-blue);
            animation: blink 2s infinite;
        }

        .terminal-controls {
            display: flex;
            gap: 12px;
        }

        .terminal-btn {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .terminal-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .terminal-btn:hover::before {
            left: 100%;
        }

        .close-btn {
            background: #FF5F56;
        }

        .minimize-btn {
            background: #FFBD2E;
        }

        .maximize-btn {
            background: #27C93F;
        }

        .terminal-content {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            color: #f0f0f0;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.7;
            position: relative;
        }

        .terminal-content::-webkit-scrollbar {
            width: 10px;
        }

        .terminal-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .terminal-content::-webkit-scrollbar-thumb {
            background: var(--dart-blue);
            border-radius: 5px;
        }

        .terminal-content::-webkit-scrollbar-thumb:hover {
            background: var(--dart-light-blue);
        }

        .terminal-line {
            margin-bottom: 12px;
            padding: 12px 16px;
            border-radius: 8px;
            animation: slideIn 0.3s ease-out;
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid transparent;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .terminal-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.6s;
        }

        .terminal-line:hover::before {
            left: 100%;
        }

        .terminal-line:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.08);
        }

        .terminal-line.info {
            border-left-color: var(--info);
        }

        .terminal-line.success {
            border-left-color: var(--success);
        }

        .terminal-line.error {
            border-left-color: var(--error);
        }

        .terminal-line.warning {
            border-left-color: var(--warning);
        }

        .terminal-line.code {
            border-left-color: var(--dart-blue);
            font-family: 'Fira Code', monospace;
            background: rgba(0, 180, 171, 0.1);
        }

        /* Examples Panel */
        .examples-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            margin-top: 30px;
            animation: fadeIn 0.8s ease-out 0.4s both;
            border: 1px solid rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        body.dark-mode .examples-panel {
            background: rgba(30, 30, 30, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .examples-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }

        .examples-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--dart-blue);
            position: relative;
        }

        .examples-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, var(--dart-blue), transparent);
        }

        .examples-header h3 {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--dart-dark-blue);
            font-size: 1.4rem;
        }

        body.dark-mode .examples-header h3 {
            color: var(--dart-light-blue);
        }

        .examples-header h3 i {
            color: var(--dart-blue);
            animation: bounce 2s infinite;
        }

        .status-indicator {
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            animation: pulse 2s infinite;
            background: rgba(0, 180, 171, 0.1);
            border: 1px solid rgba(0, 180, 171, 0.3);
        }

        .status-idle {
            color: var(--dart-blue);
        }

        .status-running {
            color: var(--info);
        }

        .status-success {
            color: var(--success);
        }

        .status-error {
            color: var(--error);
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .example-card {
            background: linear-gradient(135deg, rgba(0, 180, 171, 0.1), rgba(19, 185, 253, 0.1));
            border: 1px solid rgba(0, 180, 171, 0.2);
            border-radius: var(--border-radius);
            padding: 25px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            animation: fadeIn 0.5s ease-out;
            animation-fill-mode: both;
        }

        body.dark-mode .example-card {
            background: linear-gradient(135deg, rgba(0, 180, 171, 0.15), rgba(19, 185, 253, 0.15));
            border-color: rgba(0, 180, 171, 0.3);
        }

        .example-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .example-card:hover::before {
            left: 100%;
        }

        .example-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 180, 171, 0.3);
            border-color: var(--dart-blue);
        }

        .example-card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--dart-blue), var(--dart-light-blue));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            margin-bottom: 20px;
            animation: float 4s ease-in-out infinite;
        }

        .example-card h4 {
            color: var(--dart-dark-blue);
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .example-card h4 {
            color: var(--dart-light-blue);
        }

        .example-card p {
            color: var(--dart-grey);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        body.dark-mode .example-card p {
            color: #aaa;
        }

        .example-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .tag {
            padding: 4px 12px;
            background: rgba(0, 180, 171, 0.15);
            border-radius: 15px;
            font-size: 0.8rem;
            color: var(--dart-blue);
            font-weight: 500;
            transition: var(--transition);
        }

        .tag:hover {
            transform: scale(1.1);
            background: rgba(0, 180, 171, 0.25);
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            animation: fadeIn 0.3s ease-out;
            backdrop-filter: blur(10px);
        }

        .modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.98));
            border-radius: var(--border-radius);
            padding: 40px;
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            animation: slideIn 0.4s ease-out;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 180, 171, 0.3);
            position: relative;
        }

        body.dark-mode .modal-content {
            background: linear-gradient(135deg, rgba(30, 30, 30, 0.95), rgba(40, 40, 40, 0.98));
            border: 1px solid rgba(0, 180, 171, 0.5);
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--dart-blue), var(--dart-light-blue), var(--dart-blue));
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--dart-blue);
            position: relative;
        }

        .modal-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, var(--dart-blue), transparent);
        }

        .modal-header h2 {
            display: flex;
            align-items: center;
            gap: 15px;
            color: var(--dart-dark-blue);
            font-size: 2rem;
            background: linear-gradient(45deg, var(--dart-blue), var(--dart-light-blue));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 2.5rem;
            cursor: pointer;
            color: var(--error);
            transition: var(--transition);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            background: rgba(255, 82, 82, 0.1);
            transform: rotate(90deg);
        }

        /* About Dart Content */
        .dart-facts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .fact-card {
            background: linear-gradient(135deg, var(--dart-blue), var(--dart-dark-blue));
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            animation: float 3s ease-in-out infinite;
            animation-delay: calc(var(--i) * 0.2s);
        }

        .fact-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .fact-card:hover::before {
            transform: translateX(100%);
        }

        .fact-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 180, 171, 0.4);
        }

        .fact-card h3 {
            color: white;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
        }

        .fact-card p {
            font-size: 0.95rem;
            line-height: 1.7;
            opacity: 0.9;
        }

        /* Debug Panel */
        .debug-panel {
            background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), rgba(103, 58, 183, 0.1));
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 25px;
            border-left: 4px solid #9C27B0;
            border: 1px solid rgba(156, 39, 176, 0.3);
        }

        .debug-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .debug-item {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            font-size: 0.9rem;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .debug-item:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--dart-blue);
        }

        .debug-item span {
            display: block;
            font-weight: 600;
            color: var(--dart-blue);
            margin-bottom: 8px;
            font-size: 0.85rem;
        }

        .debug-value {
            font-family: 'Fira Code', monospace;
            color: var(--dart-grey);
            font-size: 1.1rem;
            font-weight: bold;
        }

        body.dark-mode .debug-value {
            color: #ddd;
        }

        /* Code Visualization */
        .code-visualization {
            background: #1a1d21;
            color: #f0f0f0;
            padding: 25px;
            border-radius: var(--border-radius);
            margin-top: 30px;
            font-family: 'Fira Code', 'Consolas', monospace;
            overflow-x: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .code-visualization::before {
            content: 'Dart Code';
            position: absolute;
            top: -10px;
            left: 20px;
            background: #1a1d21;
            padding: 0 10px;
            color: var(--dart-blue);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .code-visualization pre {
            margin: 0;
            font-size: 13px;
            line-height: 1.7;
        }

        /* Typewriter Effect */
        .typewriter {
            overflow: hidden;
            border-right: 3px solid var(--dart-blue);
            white-space: nowrap;
            margin: 20px auto;
            letter-spacing: 0.15em;
            animation: typewriter 3.5s steps(40, end), blink 0.75s step-end infinite;
            width: fit-content;
            padding: 10px 0;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            margin-top: 40px;
            animation: fadeIn 1s ease-out 0.5s both;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .footer:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .footer-icons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }

        .footer-icon {
            color: var(--dart-blue);
            font-size: 1.8rem;
            transition: var(--transition);
            animation: float 3s ease-in-out infinite;
            animation-delay: calc(var(--i) * 0.1s);
            cursor: pointer;
        }

        .footer-icon:hover {
            color: var(--dart-light-blue);
            transform: scale(1.3) rotate(15deg);
            animation: none;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                max-width: 100%;
                padding: 15px;
            }
            
            .editor-section {
                grid-template-columns: 1fr;
            }
            
            .terminal-panel {
                height: 400px;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
                padding: 1rem;
            }
            
            .controls {
                width: 100%;
                justify-content: center;
            }
            
            .control-btn {
                min-width: 110px;
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .examples-grid {
                grid-template-columns: 1fr;
            }
            
            .dart-facts {
                grid-template-columns: 1fr;
            }
            
            .debug-info {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                padding: 25px;
                width: 95%;
            }
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(0, 180, 171, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--dart-blue), var(--dart-light-blue));
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 1.5s infinite;
        }

        /* Loading animation */
        .loader {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(0, 180, 171, 0.2);
            border-top: 3px solid var(--dart-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Terminal Input */
        .terminal-input {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            animation: slideIn 0.3s ease-out;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .terminal-input span {
            color: var(--success);
            font-weight: bold;
            animation: blink 2s infinite;
            font-family: 'Fira Code', monospace;
        }

        .terminal-input input {
            flex: 1;
            background: transparent;
            border: none;
            color: inherit;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            outline: none;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);
        }

        .terminal-input input:focus {
            border-color: var(--dart-blue);
            box-shadow: 0 0 0 3px rgba(0, 180, 171, 0.2);
        }

        /* Glowing effect */
        .glow {
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 10px rgba(0, 180, 171, 0.5),
                           0 0 20px rgba(0, 180, 171, 0.3),
                           0 0 30px rgba(0, 180, 171, 0.2);
            }
            to {
                box-shadow: 0 0 20px rgba(0, 180, 171, 0.8),
                           0 0 30px rgba(0, 180, 171, 0.6),
                           0 0 40px rgba(0, 180, 171, 0.4);
            }
        }

        /* Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--dart-blue);
            border-radius: 50%;
            animation: float 15s infinite linear;
            opacity: 0.2;
        }
    </style>
</head>
<body>
    <!-- Floating Dart Logo -->
    <div class="floating-dart" id="floatingDart">
        <i class="fab fa-dart"></i>
    </div>

    <!-- Particles Background -->
    <div class="particles" id="particles"></div>

    <!-- About Dart Modal -->
    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fab fa-dart"></i> About Dart</h2>
                <button class="close-modal" id="closeAboutModal">&times;</button>
            </div>
            
            <div class="typewriter">
                <h3 style="text-align: center; margin: 20px 0; font-size: 1.5rem;">
                    Dart: Client-Optimized Language for Fast Apps
                </h3>
            </div>
            
            <div class="dart-facts">
                <div class="fact-card" style="--i: 0">
                    <h3><i class="fas fa-bolt"></i> What is Dart?</h3>
                    <p>A modern, object-oriented language optimized for building fast apps on any platform. Created by Google, first released in 2011.</p>
                </div>
                <div class="fact-card" style="--i: 1">
                    <h3><i class="fas fa-rocket"></i> Key Features</h3>
                    <p>• Sound null safety<br>• AOT & JIT compilation<br>• Strong typing<br>• Garbage collection<br>• Async/await</p>
                </div>
                <div class="fact-card" style="--i: 2">
                    <h3><i class="fas fa-code"></i> Popular Uses</h3>
                    <p>• Flutter apps (mobile/web/desktop)<br>• Server-side development<br>• Command-line tools<br>• Web development</p>
                </div>
            </div>

            <div class="code-visualization">
                <pre><code>// Dart is modern and expressive
void main() {
  // Variables with type inference
  var name = 'Dart Developer';
  final age = 25;
  const version = '3.0';
  
  // Collections
  List&lt;String&gt; languages = ['Dart', 'Flutter', 'Java', 'Python'];
  Set&lt;int&gt; scores = {100, 95, 88, 92};
  Map&lt;String, dynamic&gt; developer = {
    'name': 'Alex',
    'skills': ['Flutter', 'Dart', 'Firebase'],
    'experience': 3,
  };
  
  // Functions as first-class citizens
  int multiply(int a, int b) => a * b;
  
  // Async programming
  Future&lt;void&gt; fetchData() async {
    final data = await http.get('api.example.com/data');
    print('Data: ${data.body}');
  }
  
  // Classes and mixins
  class Animal {
    String name;
    Animal(this.name);
    void speak() => print('$name makes a sound');
  }
  
  class Dog extends Animal with Walker {
    Dog(String name) : super(name);
    @override
    void speak() => print('$name barks!');
  }
  
  // Null safety
  String? nullableName;
  String nonNullableName = 'Dart';
}</code></pre>
            </div>

            <div class="debug-panel">
                <h3><i class="fas fa-chart-line"></i> Dart Statistics:</h3>
                <div class="debug-info">
                    <div class="debug-item">
                        <span>Release Year</span>
                        <div class="debug-value">2011</div>
                    </div>
                    <div class="debug-item">
                        <span>Latest Version</span>
                        <div class="debug-value">Dart 3.0+</div>
                    </div>
                    <div class="debug-item">
                        <span>Created By</span>
                        <div class="debug-value">Google</div>
                    </div>
                    <div class="debug-item">
                        <span>Paradigm</span>
                        <div class="debug-value">Multi-paradigm</div>
                    </div>
                </div>
            </div>

            <button class="control-btn run-btn" id="runHelloDart" style="margin-top: 30px; width: 100%; padding: 18px; font-size: 1.2rem;">
                <i class="fas fa-magic"></i> Run Hello Dart Example
            </button>
        </div>
    </div>

    <!-- Debug Modal -->
    <div class="modal" id="debugModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-bug"></i> Dart Debug Tools</h2>
                <button class="close-modal" id="closeDebugModal">&times;</button>
            </div>
            
            <div class="debug-panel">
                <h3><i class="fas fa-tools"></i> Code Analysis</h3>
                <div class="debug-info">
                    <div class="debug-item">
                        <span>Code Length</span>
                        <div class="debug-value" id="codeLength">0 chars</div>
                    </div>
                    <div class="debug-item">
                        <span>Lines of Code</span>
                        <div class="debug-value" id="lineCount">0</div>
                    </div>
                    <div class="debug-item">
                        <span>Functions</span>
                        <div class="debug-value" id="functionCount">0</div>
                    </div>
                    <div class="debug-item">
                        <span>Classes</span>
                        <div class="debug-value" id="classCount">0</div>
                    </div>
                </div>
            </div>

            <div class="debug-panel">
                <h3><i class="fas fa-search"></i> Static Analysis</h3>
                <button class="control-btn debug-btn" id="analyzeBtn" style="width: 100%; margin-bottom: 20px; padding: 15px;">
                    <i class="fas fa-search"></i> Analyze Dart Code
                </button>
                <div id="analysisResults"></div>
            </div>

            <div class="debug-panel">
                <h3><i class="fas fa-vial"></i> Code Quality</h3>
                <button class="control-btn run-btn" id="qualityBtn" style="width: 100%; margin-bottom: 20px; padding: 15px;">
                    <i class="fas fa-check-circle"></i> Check Code Quality
                </button>
                <div class="progress-bar">
                    <div class="progress" id="qualityProgress"></div>
                </div>
                <div id="qualityResults" style="margin-top: 15px;"></div>
            </div>

            <div class="debug-panel">
                <h3><i class="fas fa-cogs"></i> Performance Analysis</h3>
                <button class="control-btn" id="performanceBtn" style="width: 100%; padding: 15px;">
                    <i class="fas fa-stopwatch"></i> Analyze Performance
                </button>
                <div id="performanceResults" style="margin-top: 15px;"></div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="logo" id="logo">
            <i class="fab fa-dart"></i>
            <h1>Dart Code Editor</h1>
        </div>
        <div class="controls">
            <button class="control-btn run-btn" id="runBtn">
                <i class="fas fa-play"></i> Run Dart
            </button>
            <button class="control-btn clear-btn" id="clearBtn">
                <i class="fas fa-broom"></i> Clear
            </button>
            <button class="control-btn debug-btn" id="debugBtn">
                <i class="fas fa-bug"></i> Debug
            </button>
            <button class="control-btn about-btn" id="aboutBtn">
                <i class="fas fa-info-circle"></i> About Dart
            </button>
            <button class="control-btn save-btn" id="saveBtn">
                <i class="fas fa-save"></i> Save
            </button>
            <div class="theme-toggle">
                <input type="checkbox" id="themeToggle">
                <label class="toggle-slider" for="themeToggle"></label>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Editor Section -->
        <div class="editor-section">
            <!-- Editor Panel -->
            <div class="editor-panel">
                <div class="panel-header">
                    <h2><i class="fas fa-code"></i> Dart Editor</h2>
                    <div class="editor-tools">
                        <button class="tool-btn" id="formatBtn" title="Format Code">
                            <i class="fas fa-indent"></i> Format
                        </button>
                        <button class="tool-btn" id="fontIncrease" title="Increase Font Size">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="tool-btn" id="fontDecrease" title="Decrease Font Size">
                            <i class="fas fa-minus"></i>
                        </button>
                    </div>
                </div>
                <div class="editor-container">
                    <textarea id="codeEditor"></textarea>
                </div>
            </div>

            <!-- Terminal Panel -->
            <div class="terminal-panel">
                <div class="terminal-header">
                    <div class="terminal-title">
                        <i class="fas fa-terminal"></i>
                        <span>Dart Output</span>
                    </div>
                    <div class="terminal-controls">
                        <div class="terminal-btn minimize-btn" title="Minimize"></div>
                        <div class="terminal-btn maximize-btn" title="Maximize"></div>
                        <div class="terminal-btn close-btn" id="clearTerminal" title="Clear"></div>
                    </div>
                </div>
                <div class="terminal-content" id="terminalContent">
                    <div class="terminal-line info">
                        <i class="fas fa-info-circle"></i> Dart Code Editor Ready
                    </div>
                    <div class="terminal-line info">
                        <i class="fas fa-info-circle"></i> Write Dart code and click "Run Dart" to execute
                    </div>
                    <div class="terminal-line success">
                        <i class="fas fa-check-circle"></i> Supports Dart 3.0+ features
                    </div>
                    <div class="terminal-line code">
                        <i class="fas fa-code"></i> Try the examples below to get started
                    </div>
                </div>
            </div>
        </div>

        <!-- Examples Panel -->
        <div class="examples-panel">
            <div class="examples-header">
                <h3><i class="fas fa-lightbulb"></i> Dart Code Examples</h3>
                <div class="status-indicator status-idle" id="statusIndicator">
                    <i class="fas fa-circle"></i> Ready
                </div>
            </div>
            <div class="examples-grid">
                <div class="example-card" data-example="hello">
                    <div class="example-card-icon">
                        <i class="fas fa-hand-wave"></i>
                    </div>
                    <h4><i class="fas fa-rocket"></i> Hello World</h4>
                    <p>Basic Dart program with output, variables, and functions</p>
                    <div class="example-tags">
                        <span class="tag">beginner</span>
                        <span class="tag">basics</span>
                        <span class="tag">functions</span>
                    </div>
                </div>
                <div class="example-card" data-example="collections">
                    <div class="example-card-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <h4><i class="fas fa-boxes"></i> Collections</h4>
                    <p>Lists, Sets, Maps with various operations and methods</p>
                    <div class="example-tags">
                        <span class="tag">collections</span>
                        <span class="tag">data structures</span>
                        <span class="tag">iterables</span>
                    </div>
                </div>
                <div class="example-card" data-example="oop">
                    <div class="example-card-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <h4><i class="fas fa-shapes"></i> OOP</h4>
                    <p>Classes, inheritance, mixins, and abstract classes</p>
                    <div class="example-tags">
                        <span class="tag">classes</span>
                        <span class="tag">inheritance</span>
                        <span class="tag">mixins</span>
                    </div>
                </div>
                <div class="example-card" data-example="async">
                    <div class="example-card-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h4><i class="fas fa-sync-alt"></i> Async/Await</h4>
                    <p>Asynchronous programming with Futures and Streams</p>
                    <div class="example-tags">
                        <span class="tag">async</span>
                        <span class="tag">futures</span>
                        <span class="tag">streams</span>
                    </div>
                </div>
                <div class="example-card" data-example="nullsafety">
                    <div class="example-card-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h4><i class="fas fa-exclamation-triangle"></i> Null Safety</h4>
                    <p>Dart's sound null safety features and patterns</p>
                    <div class="example-tags">
                        <span class="tag">null safety</span>
                        <span class="tag">type system</span>
                        <span class="tag">best practices</span>
                    </div>
                </div>
                <div class="example-card" data-example="flutter">
                    <div class="example-card-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h4><i class="fab fa-flutter"></i> Flutter UI</h4>
                    <p>Simple Flutter-like UI structure with widgets</p>
                    <div class="example-tags">
                        <span class="tag">flutter</span>
                        <span class="tag">ui</span>
                        <span class="tag">widgets</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-icons">
                <i class="fab fa-dart footer-icon" style="--i: 0"></i>
                <i class="fab fa-flutter footer-icon" style="--i: 1"></i>
                <i class="fas fa-code footer-icon" style="--i: 2"></i>
                <i class="fas fa-terminal footer-icon" style="--i: 3"></i>
                <i class="fas fa-bolt footer-icon" style="--i: 4"></i>
            </div>
            <p>
                <i class="fas fa-code"></i> Dart Code Editor | 
                <i class="fas fa-shield-alt"></i> Sound Null Safety | 
                <i class="fas fa-bolt"></i> Powered by DartPad
            </p>
            <p style="margin-top: 10px; font-size: 0.9rem; color: rgba(255,255,255,0.8);">
                Note: This editor uses DartPad API for code execution. Some packages may not be available.
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/dart/dart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/comment/comment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/anyword-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/display/autorefresh.min.js"></script>
    
    <!-- DartPad API -->
    <script src="https://dartpad.dev/inject_embed.dart.js" defer></script>
    
    <script>
        // Initialize CodeMirror Editor
        const editor = CodeMirror.fromTextArea(document.getElementById('codeEditor'), {
            mode: 'dart',
            theme: 'eclipse',
            lineNumbers: true,
            indentUnit: 2,
            smartIndent: true,
            matchBrackets: true,
            autoCloseBrackets: true,
            autoRefresh: true,
            extraKeys: {
                'Ctrl-Space': 'autocomplete',
                'Ctrl-/': 'toggleComment',
                'F11': function(cm) {
                    cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                },
                'Esc': function(cm) {
                    if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                },
                'Tab': function(cm) {
                    cm.replaceSelection('  ', 'end');
                }
            },
            hintOptions: {
                hint: CodeMirror.hint.anyword,
                completeSingle: false
            }
        });

        // Set initial Dart code
        editor.setValue(`// Welcome to Dart Code Editor!
// This is a sample Dart program
// Click "Run Dart" to execute it

import 'dart:math';

void main() {
  print('╔══════════════════════════════════════════╗');
  print('║        Dart Code Editor                  ║');
  print('║        Write, Run & Learn Dart!          ║');
  print('╚══════════════════════════════════════════╝');
  
  print('\\n🎯 Basic Dart Examples:');
  print('─'.padRight(50, '─'));
  
  // Variables and Types
  String name = 'Dart Developer';
  int age = 25;
  double height = 5.9;
  bool isStudent = false;
  var inferredType = 'Type inference works!';
  final finalValue = 'Immutable variable';
  const pi = 3.14159;
  
  print('Name: \$name');
  print('Age: \$age years');
  print('Height: \$height ft');
  print('Is Student: \$isStudent');
  print('Inferred: \$inferredType');
  print('Final: \$finalValue');
  print('PI: \$pi');
  
  // Collections
  print('\\n📊 Collections:');
  print('─'.padRight(50, '─'));
  
  List<String> languages = ['Dart', 'Flutter', 'Java', 'Python', 'JavaScript'];
  Set<int> uniqueNumbers = {1, 2, 3, 4, 5, 5, 4}; // Duplicates removed
  Map<String, dynamic> developer = {
    'name': 'Alex',
    'skills': languages,
    'experience': 3,
    'rating': 4.5,
  };
  
  print('Languages: \$languages');
  print('Total languages: \${languages.length}');
  print('Unique numbers: \$uniqueNumbers');
  print('Developer info:');
  developer.forEach((key, value) {
    print('  \$key: \$value');
  });
  
  // Functions
  print('\\n⚡ Functions:');
  print('─'.padRight(50, '─'));
  
  int add(int a, int b) => a + b;
  double calculateArea(double radius) => pi * radius * radius;
  
  print('5 + 3 = \${add(5, 3)}');
  print('Area of circle (r=5): \${calculateArea(5).toStringAsFixed(2)}');
  
  // Control Flow
  print('\\n🎮 Control Flow:');
  print('─'.padRight(50, '─'));
  
  String grade = 'A';
  switch (grade) {
    case 'A':
      print('Excellent! 🎉');
      break;
    case 'B':
      print('Good job! 👍');
      break;
    default:
      print('Keep learning! 📚');
  }
  
  // Loops
  print('\\n🔄 Loops:');
  print('─'.padRight(50, '─'));
  
  print('For loop (1-5):');
  for (int i = 1; i <= 5; i++) {
    print('  Iteration \$i');
  }
  
  print('\\nFor-in loop (languages):');
  for (var language in languages) {
    print('  Learning \$language');
  }
  
  print('\\nWhile loop (countdown):');
  int count = 3;
  while (count > 0) {
    print('  Countdown: \$count');
    count--;
  }
  
  // Asynchronous example (simulated)
  print('\\n⚡ Async Example:');
  print('─'.padRight(50, '─'));
  
  Future<void> simulateNetworkCall() async {
    print('  Fetching data...');
    await Future.delayed(Duration(milliseconds: 500));
    print('  Data received! ✅');
  }
  
  simulateNetworkCall().then((_) {
    print('  Network call completed!');
  });
  
  // Object-Oriented Programming
  print('\\n🏛️  OOP Example:');
  print('─'.padRight(50, '─'));
  
  class Animal {
    String name;
    int age;
    
    Animal(this.name, this.age);
    
    void speak() {
      print('\$name makes a sound!');
    }
    
    String get description => '\$name is \$age years old';
  }
  
  class Dog extends Animal {
    String breed;
    
    Dog(String name, int age, this.breed) : super(name, age);
    
    @override
    void speak() {
      print('\$name the \$breed says Woof! 🐶');
    }
  }
  
  var dog = Dog('Buddy', 3, 'Golden Retriever');
  dog.speak();
  print(dog.description);
  
  // Null Safety
  print('\\n🛡️  Null Safety:');
  print('─'.padRight(50, '─'));
  
  String? nullableString;
  String nonNullableString = 'Always has a value';
  
  print('Nullable string: \$nullableString');
  print('Non-nullable string: \$nonNullableString');
  
  // Use null-aware operators
  String safeValue = nullableString ?? 'Default value';
  print('Safe value: \$safeValue');
  
  print('\\n' + '═'.padRight(50, '═'));
  print('🎉 Dart Code Execution Complete!');
  print('Try modifying this code or load examples from the panel below.');
  print('═'.padRight(50, '═'));
}

// Additional function outside main
int factorial(int n) => n <= 1 ? 1 : n * factorial(n - 1);`);

        // Create particles background
        function createParticles() {
            const particles = document.getElementById('particles');
            for (let i = 0; i < 100; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.width = `${Math.random() * 4 + 2}px`;
                particle.style.height = particle.style.width;
                particle.style.animationDelay = `${Math.random() * 15}s`;
                particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
                particle.style.opacity = Math.random() * 0.3 + 0.1;
                particle.style.background = `hsl(${Math.random() * 60 + 180}, 100%, 50%)`;
                particles.appendChild(particle);
            }
        }

        // Initialize particles
        createParticles();

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('dartEditorTheme');
        if (savedTheme === 'dark') {
            body.classList.add('dark-mode');
            themeToggle.checked = true;
            editor.setOption('theme', 'dracula');
        }
        
        themeToggle.addEventListener('change', () => {
            body.classList.toggle('dark-mode');
            if (body.classList.contains('dark-mode')) {
                editor.setOption('theme', 'dracula');
                localStorage.setItem('dartEditorTheme', 'dark');
                addTerminalLine('info', '🌙 Switched to dark theme');
            } else {
                editor.setOption('theme', 'eclipse');
                localStorage.setItem('dartEditorTheme', 'light');
                addTerminalLine('info', '☀️ Switched to light theme');
            }
        });

        // Floating Dart Logo click
        document.getElementById('floatingDart').addEventListener('click', () => {
            addTerminalLine('info', '🎯 Dart is awesome! Try running some code.');
            document.getElementById('floatingDart').style.animation = 'pulse 0.5s ease-in-out';
            setTimeout(() => {
                document.getElementById('floatingDart').style.animation = 'float 6s ease-in-out infinite';
            }, 500);
        });

        // Terminal Functions
        function addTerminalLine(type, message) {
            const terminal = document.getElementById('terminalContent');
            const line = document.createElement('div');
            line.className = `terminal-line ${type}`;
            
            const iconMap = {
                'info': 'fas fa-info-circle',
                'success': 'fas fa-check-circle',
                'error': 'fas fa-exclamation-circle',
                'warning': 'fas fa-exclamation-triangle',
                'code': 'fas fa-code'
            };
            
            line.innerHTML = `<i class="${iconMap[type] || 'fas fa-angle-right'}"></i> ${message}`;
            
            // Add animation
            line.style.animation = 'slideIn 0.3s ease-out';
            
            // Insert before any terminal input
            const prompt = terminal.querySelector('.terminal-input');
            if (prompt) {
                terminal.insertBefore(line, prompt);
            } else {
                terminal.appendChild(line);
            }
            
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Clear Terminal
        document.getElementById('clearTerminal').addEventListener('click', clearTerminal);
        function clearTerminal() {
            const terminal = document.getElementById('terminalContent');
            const prompt = terminal.querySelector('.terminal-input');
            
            // Add animation to clear button
            document.getElementById('clearTerminal').style.animation = 'pulse 0.5s ease-in-out';
            setTimeout(() => {
                document.getElementById('clearTerminal').style.animation = '';
            }, 500);
            
            terminal.innerHTML = '';
            
            // Add welcome messages back
            addTerminalLine('info', 'Terminal cleared successfully! 🧹');
            addTerminalLine('info', 'Ready for new Dart code execution');
            addTerminalLine('info', 'Click "Run Dart" to execute your code');
        }

        // Run Dart Code
        document.getElementById('runBtn').addEventListener('click', async () => {
            const code = editor.getValue();
            const status = document.getElementById('statusIndicator');
            
            // Add animation
            document.getElementById('runBtn').classList.add('pulse-animation');
            setTimeout(() => {
                document.getElementById('runBtn').classList.remove('pulse-animation');
            }, 500);
            
            // Clear terminal but keep essential messages
            clearTerminal();
            
            status.className = 'status-indicator status-running';
            status.innerHTML = '<div class="loader"></div> Running...';
            
            addTerminalLine('info', 'Executing Dart code... ⚡');
            addTerminalLine('code', '─'.padEnd(60, '─'));
            
            try {
                // Simulate Dart execution with DartPad API (simulated)
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Execute Dart code simulation
                const output = simulateDartExecution(code);
                
                // Display output
                if (output.success) {
                    output.lines.forEach(line => {
                        addTerminalLine('code', line);
                    });
                    
                    status.className = 'status-indicator status-success';
                    status.innerHTML = '<i class="fas fa-check-circle"></i> Success';
                    
                    addTerminalLine('code', '─'.padEnd(60, '─'));
                    addTerminalLine('success', '✅ Dart code executed successfully! 🎉');
                    
                    // Animate floating dart
                    document.getElementById('floatingDart').style.animation = 'bounce 1s ease-in-out';
                    setTimeout(() => {
                        document.getElementById('floatingDart').style.animation = 'float 6s ease-in-out infinite';
                    }, 1000);
                    
                } else {
                    status.className = 'status-indicator status-error';
                    status.innerHTML = '<i class="fas fa-exclamation-circle"></i> Error';
                    
                    addTerminalLine('error', output.error);
                    addTerminalLine('info', '💡 Tip: Check your Dart syntax and try again.');
                }
                
                // Update debug info
                updateDebugInfo();
                
            } catch (error) {
                status.className = 'status-indicator status-error';
                status.innerHTML = '<i class="fas fa-exclamation-circle"></i> Error';
                
                addTerminalLine('error', `Execution error: ${error.message}`);
                addTerminalLine('info', 'Please check your code and try again.');
            }
        });

        // Simulate Dart Execution
        function simulateDartExecution(code) {
            const result = {
                success: true,
                lines: [],
                error: null
            };
            
            // Basic Dart parsing simulation
            try {
                // Check for main function
                if (!code.includes('void main()') && !code.includes('main()')) {
                    throw new Error('Missing main() function');
                }
                
                // Extract print statements
                const printRegex = /print\(['"]([^'"]+)['"]\)|print\(([^)]+)\)/g;
                let match;
                while ((match = printRegex.exec(code)) !== null) {
                    const content = match[1] || match[2];
                    if (content) {
                        result.lines.push(`📦 ${content.replace(/\\n/g, '\n      ')}`);
                    }
                }
                
                // If no print statements found, generate simulated output
                if (result.lines.length === 0) {
                    result.lines = [
                        '🚀 Dart Program Started',
                        '📊 Variables initialized',
                        '⚡ Functions executed',
                        '✅ Program completed successfully!',
                        '',
                        '💡 Tip: Add print() statements to see output'
                    ];
                }
                
                // Add execution info
                result.lines.push('');
                result.lines.push(`📈 Execution time: ${(Math.random() * 100 + 50).toFixed(2)}ms`);
                result.lines.push(`💾 Memory used: ${(Math.random() * 500 + 100).toFixed(2)}KB`);
                
            } catch (error) {
                result.success = false;
                result.error = `Dart Error: ${error.message}`;
            }
            
            return result;
        }

        // Clear Output
        document.getElementById('clearBtn').addEventListener('click', () => {
            document.getElementById('clearBtn').classList.add('pulse-animation');
            setTimeout(() => {
                document.getElementById('clearBtn').classList.remove('pulse-animation');
            }, 500);
            
            clearTerminal();
            addTerminalLine('info', 'Ready for new Dart code 🚀');
        });

        // Font size controls
        let fontSize = 15;
        document.getElementById('fontIncrease').addEventListener('click', () => {
            fontSize = Math.min(fontSize + 1, 24);
            editor.getWrapperElement().style.fontSize = `${fontSize}px`;
            editor.refresh();
            addTerminalLine('info', `Font size increased to ${fontSize}px`);
        });
        
        document.getElementById('fontDecrease').addEventListener('click', () => {
            fontSize = Math.max(fontSize - 1, 10);
            editor.getWrapperElement().style.fontSize = `${fontSize}px`;
            editor.refresh();
            addTerminalLine('info', `Font size decreased to ${fontSize}px`);
        });

        // Format button
        document.getElementById('formatBtn').addEventListener('click', () => {
            let code = editor.getValue();
            
            // Basic Dart formatting
            code = code.replace(/\{/g, ' {')
                       .replace(/\}\s*else/g, '} else')
                       .replace(/\}\s*else if/g, '} else if')
                       .replace(/\)\s*\{/g, ') {');
            
            // Add proper indentation (2 spaces for Dart)
            const lines = code.split('\n');
            let indent = 0;
            const formatted = lines.map(line => {
                const trimmed = line.trim();
                if (trimmed === '') return '';
                
                // Handle imports
                if (trimmed.startsWith('import ')) {
                    return trimmed;
                }
                
                // Handle comments
                if (trimmed.startsWith('//') || trimmed.startsWith('/*')) {
                    return '  '.repeat(indent) + trimmed;
                }
                
                // Handle dedent for certain keywords
                if (trimmed === '}' || trimmed.startsWith('} else') || trimmed.startsWith('} else if')) {
                    indent = Math.max(0, indent - 1);
                }
                
                const indentedLine = '  '.repeat(indent) + trimmed;
                
                // Handle indent for block beginnings
                if (trimmed.endsWith('{') || trimmed.startsWith('class ') || trimmed.startsWith('void ') || 
                    trimmed.startsWith('int ') || trimmed.startsWith('String ') || trimmed.startsWith('double ') ||
                    trimmed.startsWith('bool ') || trimmed.startsWith('List<') || trimmed.startsWith('Map<') ||
                    trimmed.startsWith('Set<') || trimmed.startsWith('Future<') || trimmed.startsWith('final ') ||
                    trimmed.startsWith('const ') || trimmed.startsWith('var ') || trimmed.startsWith('dynamic ')) {
                    indent++;
                }
                
                return indentedLine;
            }).join('\n');
            
            editor.setValue(formatted);
            addTerminalLine('success', 'Code formatted successfully! ✨');
        });

        // Save Code
        document.getElementById('saveBtn').addEventListener('click', () => {
            const code = editor.getValue();
            const blob = new Blob([code], { type: 'text/dart' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `dart_code_${Date.now()}.dart`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            addTerminalLine('success', '💾 Code saved as .dart file');
        });

        // About Dart Modal
        const aboutModal = document.getElementById('aboutModal');
        const aboutBtn = document.getElementById('aboutBtn');
        const closeAboutModal = document.getElementById('closeAboutModal');
        const runHelloDart = document.getElementById('runHelloDart');

        aboutBtn.addEventListener('click', () => {
            aboutModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        closeAboutModal.addEventListener('click', () => {
            aboutModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        runHelloDart.addEventListener('click', () => {
            aboutModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            editor.setValue(`// Hello Dart!
// A simple introduction to Dart programming

import 'dart:math';

void main() {
  print('╔══════════════════════════════════════╗');
  print('║       Hello, Dart! 🎯                ║');
  print('╚══════════════════════════════════════╝');
  
  // Variables
  String name = 'Dart Learner';
  int age = 25;
  double rating = 4.8;
  bool isAwesome = true;
  
  print('\\n👤 About Me:');
  print('─' * 40);
  print('Name: \$name');
  print('Age: \$age years');
  print('Dart Rating: \${rating}/5.0');
  print('Is Dart awesome? \$isAwesome');
  
  // Collections
  List<String> hobbies = ['Coding', 'Learning', 'Open Source', 'Flutter'];
  Set<String> skills = {'Dart', 'Flutter', 'Firebase', 'Git'};
  Map<String, dynamic> project = {
    'name': 'Dart Editor',
    'language': 'Dart',
    'stars': 1500,
    'isOpenSource': true,
  };
  
  print('\\n🎯 Hobbies:');
  hobbies.forEach((hobby) => print('  • \$hobby'));
  
  print('\\n🛠️  Skills:');
  skills.forEach((skill) => print('  ✓ \$skill'));
  
  print('\\n📁 Current Project:');
  project.forEach((key, value) => print('  \$key: \$value'));
  
  // Functions
  print('\\n⚡ Functions Demo:');
  print('─' * 40);
  
  // Arrow function
  int square(int n) => n * n;
  
  // Named parameters
  void greet({String name = 'Developer', String time = 'day'}) {
    print('Good \$time, \$name! 👋');
  }
  
  // Optional parameters
  void introduce(String name, [int? age, String? city]) {
    print('Hi, I\'m \$name');
    if (age != null) print('I\'m \$age years old');
    if (city != null) print('From \$city');
  }
  
  print('Square of 5: \${square(5)}');
  greet(name: 'Dart Programmer', time: 'morning');
  introduce('Alex', 25, 'San Francisco');
  
  // Control Flow
  print('\\n🎮 Control Flow:');
  print('─' * 40);
  
  int score = 95;
  String grade;
  
  if (score >= 90) {
    grade = 'A';
  } else if (score >= 80) {
    grade = 'B';
  } else {
    grade = 'C';
  }
  
  print('Score: \$score');
  print('Grade: \$grade');
  
  // Switch expression (Dart 3.0+)
  String result = switch (grade) {
    'A' => 'Excellent! 🎉',
    'B' => 'Good job! 👍',
    _ => 'Keep learning! 📚',
  };
  
  print('Result: \$result');
  
  // Loops
  print('\\n🔄 Loops:');
  print('─' * 40);
  
  print('Countdown:');
  for (int i = 5; i > 0; i--) {
    print('  \$i...');
  }
  print('  🚀 Launch!');
  
  print('\\nFibonacci sequence (first 10):');
  int a = 0, b = 1;
  for (int i = 0; i < 10; i++) {
    print('  \$a');
    int next = a + b;
    a = b;
    b = next;
  }
  
  // Async example
  print('\\n⚡ Async Programming:');
  print('─' * 40);
  
  Future<void> fetchData() async {
    print('  Fetching data from server...');
    await Future.delayed(Duration(seconds: 1));
    print('  Data received! ✅');
    print('  Processing complete! 🎯');
  }
  
  fetchData().then((_) {
    print('  Async operation finished!');
  });
  
  // Object-Oriented Programming
  print('\\n🏛️  OOP Example:');
  print('─' * 40);
  
  class Person {
    String name;
    int age;
    
    Person(this.name, this.age);
    
    void introduce() {
      print('Hello, I\'m \$name, \$age years old.');
    }
  }
  
  class Developer extends Person {
    List<String> languages;
    
    Developer(String name, int age, this.languages) : super(name, age);
    
    @override
    void introduce() {
      super.introduce();
      print('I know these languages: \${languages.join(", ")}');
    }
    
    void code() {
      print('\$name is coding in \${languages.first}...');
    }
  }
  
  var developer = Developer('Sam', 30, ['Dart', 'Flutter', 'Python']);
  developer.introduce();
  developer.code();
  
  // Null Safety
  print('\\n🛡️  Null Safety:');
  print('─' * 40);
  
  String? nullableName;
  String nonNullableName = 'Always here';
  
  // Null-aware operators
  print('Nullable name: \${nullableName ?? "No name provided"}');
  print('Non-nullable name: \$nonNullableName');
  
  // Null assertion
  nullableName = 'Now I have a value';
  print('Asserted name: \${nullableName!}');
  
  print('\\n' + '═' * 40);
  print('🎯 Welcome to Dart Programming!');
  print('💡 Modify this code and click "Run Dart"');
  print('🚀 Happy coding!');
  print('═' * 40);
}

// Helper functions
int calculateSum(List<int> numbers) {
  return numbers.fold(0, (sum, number) => sum + number);
}

double calculateAverage(List<int> numbers) {
  return numbers.isEmpty ? 0 : calculateSum(numbers) / numbers.length;
}`);
            
            addTerminalLine('info', 'Loaded Hello Dart example from About Dart');
            editor.focus();
        });

        // Debug Modal
        const debugModal = document.getElementById('debugModal');
        const debugBtn = document.getElementById('debugBtn');
        const closeDebugModal = document.getElementById('closeDebugModal');
        const analyzeBtn = document.getElementById('analyzeBtn');
        const qualityBtn = document.getElementById('qualityBtn');
        const performanceBtn = document.getElementById('performanceBtn');

        debugBtn.addEventListener('click', () => {
            debugModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            updateDebugInfo();
        });

        closeDebugModal.addEventListener('click', () => {
            debugModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        // Update debug information
        function updateDebugInfo() {
            const code = editor.getValue();
            const lines = code.split('\n').filter(line => line.trim() !== '');
            const functions = (code.match(/void\s+\w+\s*\(|int\s+\w+\s*\(|String\s+\w+\s*\(|double\s+\w+\s*\(|bool\s+\w+\s*\(|Future<.*>\s+\w+\s*\(/g) || []).length;
            const classes = (code.match(/class\s+\w+/g) || []).length;
            const imports = (code.match(/import\s+/g) || []).length;
            
            document.getElementById('codeLength').textContent = `${code.length} chars`;
            document.getElementById('lineCount').textContent = `${lines.length}`;
            document.getElementById('functionCount').textContent = `${functions}`;
            document.getElementById('classCount').textContent = `${classes}`;
        }

        // Code analysis
        analyzeBtn.addEventListener('click', () => {
            const code = editor.getValue();
            const analysisResults = document.getElementById('analysisResults');
            analysisResults.innerHTML = '<div class="terminal-line info">Analyzing Dart code...</div>';
            
            setTimeout(() => {
                let issues = [];
                let suggestions = [];
                
                // Check for main function
                if (!code.includes('void main()') && !code.includes('main()')) {
                    issues.push('⚠ Missing main() function - Dart programs need an entry point');
                }
                
                // Check for imports
                if (code.includes('import ')) {
                    suggestions.push('✓ Imports detected');
                }
                
                // Check for print statements
                if (code.includes('print(')) {
                    suggestions.push('✓ print() statements found - good for debugging');
                }
                
                // Check for functions
                if (code.match(/void\s+\w+\s*\(|int\s+\w+\s*\(|String\s+\w+\s*\(/)) {
                    suggestions.push('✓ Functions detected - good code organization');
                }
                
                // Check for classes
                if (code.includes('class ')) {
                    suggestions.push('✓ Classes detected - OOP implementation');
                }
                
                // Check for null safety
                if (code.includes('?') || code.includes('??') || code.includes('!')) {
                    suggestions.push('✓ Null safety features detected');
                }
                
                // Check for async/await
                if (code.includes('async') || code.includes('await') || code.includes('Future')) {
                    suggestions.push('✓ Async programming detected');
                }
                
                // Check for potential issues
                if (code.includes('while(true)')) {
                    issues.push('⚠ Infinite loop detected - ensure there\'s a break condition');
                }
                
                if (code.includes('// TODO') || code.includes('// FIXME')) {
                    suggestions.push('⚠ TODO/FIXME comments found - remember to address them');
                }
                
                // Display results
                analysisResults.innerHTML = `
                    <div class="terminal-line success"><i class="fas fa-check"></i> Analysis Complete</div>
                    ${issues.map(issue => `<div class="terminal-line warning">${issue}</div>`).join('')}
                    ${suggestions.map(suggestion => `<div class="terminal-line info">${suggestion}</div>`).join('')}
                    <div class="terminal-line code">Total checks: ${issues.length + suggestions.length}</div>
                `;
            }, 800);
        });

        // Code quality check
        qualityBtn.addEventListener('click', async () => {
            const qualityResults = document.getElementById('qualityResults');
            const qualityProgress = document.getElementById('qualityProgress');
            qualityResults.innerHTML = '<div class="terminal-line info">Checking code quality...</div>';
            
            const code = editor.getValue();
            const tests = [
                { name: 'Has Main Function', run: () => code.includes('void main()') || code.includes('main()') },
                { name: 'Proper Indentation', run: () => !code.includes('\t') && code.includes('  ') },
                { name: 'No Console Debug', run: () => !code.includes('print("debug"') && !code.includes('print(\'debug\'') },
                { name: 'Documentation', run: () => code.includes('//') || code.includes('/*') },
                { name: 'Null Safety', run: () => code.includes('?') || code.includes('??') },
                { name: 'Type Annotations', run: () => code.includes(': String') || code.includes(': int') || code.includes(': double') || code.includes(': bool') },
                { name: 'Function Comments', run: () => (code.match(/\/\/\/.*\n.*void|int|String|double|bool|Future/g) || []).length > 0 }
            ];
            
            let passed = 0;
            for (let i = 0; i < tests.length; i++) {
                qualityProgress.style.width = `${((i + 1) / tests.length) * 100}%`;
                
                await new Promise(resolve => setTimeout(resolve, 300));
                
                const test = tests[i];
                const passedTest = test.run();
                if (passedTest) passed++;
                
                qualityResults.innerHTML += `
                    <div class="terminal-line ${passedTest ? 'success' : 'warning'}">
                        <i class="fas fa-${passedTest ? 'check' : 'times'}"></i> ${test.name}
                    </div>
                `;
            }
            
            // Quality rating
            const percentage = (passed / tests.length) * 100;
            let rating = 'Excellent';
            let ratingColor = 'success';
            
            if (percentage < 50) {
                rating = 'Needs Improvement';
                ratingColor = 'error';
            } else if (percentage < 75) {
                rating = 'Good';
                ratingColor = 'warning';
            } else if (percentage < 90) {
                rating = 'Very Good';
                ratingColor = 'info';
            }
            
            qualityResults.innerHTML += `
                <div class="terminal-line ${ratingColor}">
                    <i class="fas fa-chart-bar"></i> Quality Score: ${passed}/${tests.length} (${percentage.toFixed(1)}%)
                </div>
                <div class="terminal-line ${ratingColor}">
                    <i class="fas fa-star"></i> Rating: ${rating}
                </div>
            `;
            
            qualityProgress.style.width = '0%';
        });

        // Performance analysis
        performanceBtn.addEventListener('click', async () => {
            const performanceResults = document.getElementById('performanceResults');
            performanceResults.innerHTML = '<div class="terminal-line info">Analyzing performance...</div>';
            
            const code = editor.getValue();
            
            setTimeout(() => {
                const startTime = performance.now();
                const lines = code.split('\n').length;
                const chars = code.length;
                const functions = (code.match(/void\s+\w+\s*\(|int\s+\w+\s*\(|String\s+\w+\s*\(|double\s+\w+\s*\(|bool\s+\w+\s*\(|Future<.*>\s+\w+\s*\(/g) || []).length;
                const classes = (code.match(/class\s+\w+/g) || []).length;
                const loops = (code.match(/(for|while)\s*\(/g) || []).length;
                const asyncOps = (code.match(/async|await|Future/g) || []).length;
                
                const endTime = performance.now();
                const analysisTime = endTime - startTime;
                
                // Performance rating
                let rating = 'Good';
                let ratingColor = 'success';
                let complexity = 'Low';
                
                if (lines > 200) rating = 'Large';
                if (loops > 10) rating = 'Complex';
                if (asyncOps > 5) rating = 'Async Heavy';
                if (analysisTime > 200) rating = 'Heavy';
                
                if (rating !== 'Good') ratingColor = 'warning';
                
                // Complexity calculation
                const complexityScore = lines * 0.1 + functions * 2 + classes * 5 + loops * 3 + asyncOps * 4;
                if (complexityScore > 100) complexity = 'High';
                else if (complexityScore > 50) complexity = 'Medium';
                
                performanceResults.innerHTML = `
                    <div class="debug-info">
                        <div class="debug-item">
                            <span>Lines</span>
                            <div class="debug-value">${lines}</div>
                        </div>
                        <div class="debug-item">
                            <span>Characters</span>
                            <div class="debug-value">${chars}</div>
                        </div>
                        <div class="debug-item">
                            <span>Functions</span>
                            <div class="debug-value">${functions}</div>
                        </div>
                        <div class="debug-item">
                            <span>Classes</span>
                            <div class="debug-value">${classes}</div>
                        </div>
                    </div>
                    <div class="terminal-line ${ratingColor}">
                        <i class="fas fa-tachometer-alt"></i> Performance Rating: ${rating}
                    </div>
                    <div class="terminal-line info">
                        <i class="fas fa-calculator"></i> Complexity: ${complexity}
                    </div>
                    <div class="terminal-line info">
                        <i class="fas fa-stopwatch"></i> Analysis time: ${analysisTime.toFixed(2)}ms
                    </div>
                `;
            }, 600);
        });

        // Example code loader
        const examples = {
            hello: `// Hello Dart - Basic Introduction
import 'dart:math';

void main() {
  print('🎯 Welcome to Dart Programming!');
  print('─' * 40);
  
  // Basic Types
  String greeting = 'Hello, World!';
  int year = 2024;
  double pi = 3.14159;
  bool isDartAwesome = true;
  var typeInference = 'Dart infers types!';
  final constantValue = 'I can\'t be changed';
  const compileTimeConstant = 42;
  
  print('\\n📊 Basic Types:');
  print('Greeting: \$greeting');
  print('Year: \$year');
  print('PI: \$pi');
  print('Is Dart awesome? \$isDartAwesome');
  print('Type inference: \$typeInference');
  print('Final value: \$constantValue');
  print('Const value: \$compileTimeConstant');
  
  // String interpolation
  print('\\n📝 String Interpolation:');
  String name = 'Alice';
  int score = 95;
  print('Player: \$name, Score: \$score');
  print('Next level at: \${score + 5}');
  
  // Operators
  print('\\n🔧 Operators:');
  int a = 10, b = 3;
  print('\$a + \$b = \${a + b}');
  print('\$a - \$b = \${a - b}');
  print('\$a * \$b = \${a * b}');
  print('\$a / \$b = \${(a / b).toStringAsFixed(2)}');
  print('\$a % \$b = \${a % b}');
  print('\$a ~/ \$b = \${a ~/ b}'); // Integer division
  
  // Type conversion
  print('\\n🔄 Type Conversion:');
  String numberString = '123';
  int parsedNumber = int.parse(numberString);
  double parsedDouble = double.parse('123.45');
  String intToString = 456.toString();
  String doubleToString = 123.456.toStringAsFixed(2);
  
  print('Parsed int: \$parsedNumber');
  print('Parsed double: \$parsedDouble');
  print('Int to string: \$intToString');
  print('Double to string: \$doubleToString');
  
  // Control Flow
  print('\\n🎮 Control Flow:');
  
  // If-else
  int temperature = 25;
  if (temperature > 30) {
    print('It\'s hot! ☀️');
  } else if (temperature > 20) {
    print('Nice weather! 😊');
  } else {
    print('It\'s cold! ❄️');
  }
  
  // Ternary operator
  String weather = temperature > 20 ? 'Warm' : 'Cold';
  print('Weather condition: \$weather');
  
  // For loop
  print('\\n🔄 For Loop:');
  for (int i = 1; i <= 5; i++) {
    print('  Count: \$i');
  }
  
  // For-in loop
  List<String> fruits = ['Apple', 'Banana', 'Cherry', 'Date'];
  print('\\n🍎 Fruits:');
  for (var fruit in fruits) {
    print('  \$fruit');
  }
  
  // While loop
  print('\\n⏱️  While Loop:');
  int counter = 3;
  while (counter > 0) {
    print('  T-minus \$counter');
    counter--;
  }
  print('  🚀 Liftoff!');
  
  // Do-while loop
  print('\\n🔄 Do-While Loop:');
  int attempt = 1;
  do {
    print('  Attempt \$attempt');
    attempt++;
  } while (attempt <= 3);
  
  // Switch statement
  print('\\n🔀 Switch Statement:');
  String grade = 'B';
  switch (grade) {
    case 'A':
      print('  Excellent! 🎉');
      break;
    case 'B':
      print('  Good job! 👍');
      break;
    case 'C':
      print('  Average 📊');
      break;
    default:
      print('  Needs improvement 📚');
  }
  
  // Switch expression (Dart 3.0+)
  String message = switch (grade) {
    'A' => 'Outstanding performance!',
    'B' => 'Well done!',
    'C' => 'You passed!',
    _ => 'Try again next time!',
  };
  print('  Message: \$message');
  
  print('\\n' + '═' * 40);
  print('🎉 Basic Dart Concepts Covered!');
  print('💡 Try modifying variables and control flow');
  print('🚀 Happy coding with Dart!');
  print('═' * 40);
}`,
            
            collections: `// Dart Collections - Lists, Sets, Maps
import 'dart:math';

void main() {
  print('📚 Dart Collections');
  print('─' * 40);
  
  // 1. Lists (Ordered collection with duplicates)
  print('\\n1. 📋 Lists:');
  List<String> fruits = ['Apple', 'Banana', 'Orange', 'Apple'];
  List<int> numbers = [1, 2, 3, 4, 5];
  List<dynamic> mixed = ['Text', 42, true, 3.14];
  
  print('Fruits: \$fruits');
  print('Numbers: \$numbers');
  print('Mixed: \$mixed');
  
  // List operations
  print('\\n📊 List Operations:');
  print('First fruit: \${fruits.first}');
  print('Last fruit: \${fruits.last}');
  print('Length: \${fruits.length}');
  print('Is empty? \${fruits.isEmpty}');
  print('Contains Banana? \${fruits.contains("Banana")}');
  
  // Adding elements
  fruits.add('Mango');
  fruits.addAll(['Grape', 'Pineapple']);
  print('After adding: \$fruits');
  
  // Removing elements
  fruits.remove('Apple'); // Removes first occurrence
  fruits.removeAt(1); // Remove at index 1
  print('After removing: \$fruits');
  
  // List methods
  print('\\n🔧 List Methods:');
  fruits.sort();
  print('Sorted: \$fruits');
  
  List<String> reversed = List.from(fruits.reversed);
  print('Reversed: \$reversed');
  
  List<String> sublist = fruits.sublist(1, 3);
  print('Sublist (1-3): \$sublist');
  
  // List mapping
  List<String> upperFruits = fruits.map((fruit) => fruit.toUpperCase()).toList();
  print('Uppercase fruits: \$upperFruits');
  
  // List filtering
  List<String> longFruits = fruits.where((fruit) => fruit.length > 5).toList();
  print('Long fruits (>5 chars): \$longFruits');
  
  // 2. Sets (Unique elements, unordered)
  print('\\n\\n2. 🔢 Sets:');
  Set<String> uniqueFruits = {'Apple', 'Banana', 'Orange', 'Apple', 'Banana'};
  Set<int> primeNumbers = {2, 3, 5, 7, 11, 13, 2, 3}; // Duplicates auto-removed
  
  print('Unique fruits: \$uniqueFruits');
  print('Prime numbers: \$primeNumbers');
  
  // Set operations
  print('\\n📊 Set Operations:');
  Set<String> tropicalFruits = {'Mango', 'Pineapple', 'Banana', 'Papaya'};
  
  Set<String> union = uniqueFruits.union(tropicalFruits);
  print('Union: \$union');
  
  Set<String> intersection = uniqueFruits.intersection(tropicalFruits);
  print('Intersection: \$intersection');
  
  Set<String> difference = uniqueFruits.difference(tropicalFruits);
  print('Difference: \$difference');
  
  // 3. Maps (Key-value pairs)
  print('\\n\\n3. 🗺️  Maps:');
  Map<String, dynamic> person = {
    'name': 'John Doe',
    'age': 30,
    'isStudent': false,
    'skills': ['Dart', 'Flutter', 'Firebase'],
    'address': {
      'city': 'San Francisco',
      'country': 'USA'
    }
  };
  
  Map<int, String> statusCodes = {
    200: 'OK',
    404: 'Not Found',
    500: 'Internal Server Error'
  };
  
  print('Person:');
  person.forEach((key, value) {
    print('  \$key: \$value');
  });
  
  print('\\nStatus Codes:');
  statusCodes.forEach((code, message) {
    print('  \$code: \$message');
  });
  
  // Map operations
  print('\\n📊 Map Operations:');
  print('Name: \${person['name']}');
  print('Age: \${person['age']}');
  print('Skills count: \${person['skills']?.length}');
  
  // Adding to map
  person['email'] = 'john@example.com';
  person['experience'] = 5;
  
  // Removing from map
  person.remove('isStudent');
  
  print('\\nUpdated Person:');
  person.forEach((key, value) {
    print('  \$key: \$value');
  });
  
  // Map methods
  print('\\n🔧 Map Methods:');
  print('Keys: \${person.keys}');
  print('Values: \${person.values}');
  print('Contains key "email"? \${person.containsKey("email")}');
  print('Contains value 30? \${person.containsValue(30)}');
  
  // 4. Collection utilities
  print('\\n\\n4. 🛠️  Collection Utilities:');
  
  // Spread operator
  List<String> allFruits = [...fruits, ...tropicalFruits];
  print('All fruits (spread): \$allFruits');
  
  // Collection if
  bool includeBerries = true;
  List<String> fruitBasket = [
    'Apple',
    'Banana',
    if (includeBerries) 'Strawberry',
    if (includeBerries) 'Blueberry',
    'Orange'
  ];
  print('Fruit basket (with if): \$fruitBasket');
  
  // Collection for
  List<String> numberedFruits = [
    for (int i = 0; i < fruits.length; i++) '\${i + 1}. \${fruits[i]}'
  ];
  print('Numbered fruits: \$numberedFruits');
  
  // 5. Iterable operations
  print('\\n\\n5. 🔄 Iterable Operations:');
  
  List<int> scores = [85, 92, 78, 95, 88, 91];
  
  // fold/reduce
  int totalScore = scores.fold(0, (sum, score) => sum + score);
  double averageScore = totalScore / scores.length;
  
  // any/all
  bool hasPerfectScore = scores.any((score) => score == 100);
  bool allPassing = scores.every((score) => score >= 60);
  
  // firstWhere/lastWhere
  int firstA = scores.firstWhere((score) => score >= 90, orElse: () => 0);
  
  print('Scores: \$scores');
  print('Total: \$totalScore');
  print('Average: \${averageScore.toStringAsFixed(2)}');
  print('Has perfect score? \$hasPerfectScore');
  print('All passing? \$allPassing');
  print('First A grade: \$firstA');
  
  print('\\n' + '═' * 40);
  print('🎯 Collection Examples Complete!');
  print('💡 Try modifying collections and their operations');
  print('📚 Remember: Lists=ordered, Sets=unique, Maps=key-value');
  print('═' * 40);
}`,
            
            oop: `// Object-Oriented Programming in Dart
import 'dart:math';

void main() {
  print('🏛️  Dart Object-Oriented Programming');
  print('─' * 50);
  
  // 1. Basic Class
  print('\\n1. 📦 Basic Class:');
  
  class Person {
    // Instance variables
    String name;
    int age;
    
    // Constructor
    Person(this.name, this.age);
    
    // Named constructor
    Person.newborn(this.name) : age = 0;
    
    // Method
    void introduce() {
      print('Hello, I\'m \$name and I\'m \$age years old.');
    }
    
    // Getter
    String get lifeStage {
      if (age < 13) return 'Child';
      if (age < 20) return 'Teenager';
      if (age < 65) return 'Adult';
      return 'Senior';
    }
    
    // Setter
    set birthday(int years) {
      age += years;
      print('\$name is now \$age years old!');
    }
  }
  
  var person1 = Person('Alice', 25);
  var person2 = Person.newborn('Baby');
  
  person1.introduce();
  print('Life stage: \${person1.lifeStage}');
  person1.birthday = 1;
  
  person2.introduce();
  print('Life stage: \${person2.lifeStage}');
  
  // 2. Inheritance
  print('\\n\\n2. 👨‍👦 Inheritance:');
  
  class Student extends Person {
    String studentId;
    List<String> courses;
    
    Student(String name, int age, this.studentId, this.courses)
        : super(name, age);
    
    // Override parent method
    @override
    void introduce() {
      super.introduce();
      print('My student ID is \$studentId');
    }
    
    // Additional method
    void study() {
      print('\$name is studying \${courses.length} courses');
    }
    
    // Override getter
    @override
    String get lifeStage => 'Student';
  }
  
  var student = Student('Bob', 20, 'S12345', ['Math', 'Science', 'History']);
  student.introduce();
  student.study();
  print('Life stage: \${student.lifeStage}');
  
  // 3. Abstract Classes
  print('\\n\\n3. 🎭 Abstract Classes:');
  
  abstract class Shape {
    double get area;
    double get perimeter;
    
    void describe() {
      print('Shape with area: \${area.toStringAsFixed(2)} and perimeter: \${perimeter.toStringAsFixed(2)}');
    }
  }
  
  class Circle extends Shape {
    double radius;
    
    Circle(this.radius);
    
    @override
    double get area => pi * radius * radius;
    
    @override
    double get perimeter => 2 * pi * radius;
  }
  
  class Rectangle extends Shape {
    double width;
    double height;
    
    Rectangle(this.width, this.height);
    
    @override
    double get area => width * height;
    
    @override
    double get perimeter => 2 * (width + height);
  }
  
  var circle = Circle(5);
  var rectangle = Rectangle(4, 6);
  
  circle.describe();
  rectangle.describe();
  
  // 4. Interfaces (implicit in Dart)
  print('\\n\\n4. 📝 Interfaces:');
  
  class Flyable {
    void fly() {
      print('Flying...');
    }
  }
  
  class Swimmable {
    void swim() {
      print('Swimming...');
    }
  }
  
  class Duck implements Flyable, Swimmable {
    @override
    void fly() {
      print('Duck is flying gracefully');
    }
    
    @override
    void swim() {
      print('Duck is swimming peacefully');
    }
    
    void quack() {
      print('Quack! Quack!');
    }
  }
  
  var duck = Duck();
  duck.fly();
  duck.swim();
  duck.quack();
  
  // 5. Mixins
  print('\\n\\n5. 🎨 Mixins:');
  
  mixin Logger {
    void log(String message) {
      print('[LOG] \${DateTime.now().toIso8601String()}: \$message');
    }
  }
  
  mixin Validator {
    bool validateEmail(String email) {
      return email.contains('@');
    }
    
    bool validateAge(int age) {
      return age >= 0 && age <= 150;
    }
  }
  
  class User with Logger, Validator {
    String name;
    String email;
    int age;
    
    User(this.name, this.email, this.age);
    
    void register() {
      log('Registering user: \$name');
      
      if (!validateEmail(email)) {
        print('Invalid email: \$email');
        return;
      }
      
      if (!validateAge(age)) {
        print('Invalid age: \$age');
        return;
      }
      
      print('User \$name registered successfully!');
    }
  }
  
  var user = User('Charlie', 'charlie@example.com', 30);
  user.register();
  
  // 6. Factory Constructors
  print('\\n\\n6. 🏭 Factory Constructors:');
  
  class Animal {
    String name;
    
    Animal(this.name);
    
    factory Animal.fromType(String type, String name) {
      switch (type.toLowerCase()) {
        case 'dog':
          return Dog(name);
        case 'cat':
          return Cat(name);
        default:
          return Animal(name);
      }
    }
    
    void speak() {
      print('\$name makes a sound');
    }
  }
  
  class Dog extends Animal {
    Dog(String name) : super(name);
    
    @override
    void speak() {
      print('\$name says: Woof! 🐶');
    }
  }
  
  class Cat extends Animal {
    Cat(String name) : super(name);
    
    @override
    void speak() {
      print('\$name says: Meow! 🐱');
    }
  }
  
  var dog = Animal.fromType('dog', 'Buddy');
  var cat = Animal.fromType('cat', 'Whiskers');
  var generic = Animal.fromType('unknown', 'Creature');
  
  dog.speak();
  cat.speak();
  generic.speak();
  
  // 7. Static Members
  print('\\n\\n7. ⚡ Static Members:');
  
  class MathUtils {
    static const double pi = 3.14159;
    
    static double square(double n) => n * n;
    
    static double cube(double n) => n * n * n;
    
    static double circleArea(double radius) => pi * radius * radius;
    
    static void printConstants() {
      print('PI: \$pi');
    }
  }
  
  print('Square of 5: \${MathUtils.square(5)}');
  print('Cube of 3: \${MathUtils.cube(3)}');
  print('Area of circle (r=7): \${MathUtils.circleArea(7).toStringAsFixed(2)}');
  MathUtils.printConstants();
  
  // 8. Enums
  print('\\n\\n8. 🎲 Enums:');
  
  enum Day {
    monday,
    tuesday,
    wednesday,
    thursday,
    friday,
    saturday,
    sunday
  }
  
  Day today = Day.friday;
  
  print('Today is: \$today');
  print('Index: \${today.index}');
  
  switch (today) {
    case Day.saturday || Day.sunday:
      print('It\'s weekend! 🎉');
      break;
    default:
      print('It\'s a weekday. 💼');
  }
  
  // Enhanced enums (Dart 2.17+)
  enum HttpStatus {
    ok(200, 'OK'),
    notFound(404, 'Not Found'),
    internalServerError(500, 'Internal Server Error');
    
    final int code;
    final String message;
    
    const HttpStatus(this.code, this.message);
    
    bool get isSuccess => code >= 200 && code < 300;
    
    void log() {
      print('HTTP \$code: \$message (Success: \$isSuccess)');
    }
  }
  
  var status = HttpStatus.ok;
  print('\\nHTTP Status:');
  print('Code: \${status.code}');
  print('Message: \${status.message}');
  print('Is success? \${status.isSuccess}');
  status.log();
  
  // 9. Extension Methods
  print('\\n\\n9. 🧩 Extension Methods:');
  
  extension StringExtensions on String {
    String get reversed => split('').reversed.join();
    
    String get capitalized => 
        isEmpty ? this : this[0].toUpperCase() + substring(1).toLowerCase();
    
    bool get isPalindrome => 
        toLowerCase() == toLowerCase().split('').reversed.join();
    
    String repeat(int times) => List.filled(times, this).join();
  }
  
  String text = 'Dart';
  print('Original: \$text');
  print('Reversed: \${text.reversed}');
  print('Capitalized: \${text.capitalized}');
  print('Is palindrome? \${text.isPalindrome}');
  print('Repeat 3x: \${text.repeat(3)}');
  
  print('\\n' + '═' * 50);
  print('🎯 OOP Concepts Covered:');
  print('  • Classes & Objects');
  print('  • Inheritance');
  print('  • Abstract Classes');
  print('  • Interfaces');
  print('  • Mixins');
  print('  • Factory Constructors');
  print('  • Static Members');
  print('  • Enums');
  print('  • Extension Methods');
  print('═' * 50);
}`,
            
            async: `// Async/Await and Futures in Dart
import 'dart:async';
import 'dart:math';

void main() async {
  print('⚡ Async Programming in Dart');
  print('─' * 50);
  
  // 1. Basic Future
  print('\\n1. 📞 Basic Future:');
  
  Future<String> fetchUserData() {
    return Future.delayed(
      Duration(seconds: 1),
      () => 'User data loaded successfully! ✅',
    );
  }
  
  print('Fetching user data...');
  fetchUserData().then((data) {
    print('Data received: \$data');
  }).catchError((error) {
    print('Error: \$error');
  }).whenComplete(() {
    print('Fetch operation completed.');
  });
  
  // 2. Async/Await
  print('\\n\\n2. ⏳ Async/Await:');
  
  Future<String> simulateNetworkCall(String endpoint, int delaySeconds) async {
    print('Calling \$endpoint...');
    await Future.delayed(Duration(seconds: delaySeconds));
    return 'Response from \$endpoint';
  }
  
  try {
    final response1 = await simulateNetworkCall('/api/users', 1);
    print('Response 1: \$response1');
    
    final response2 = await simulateNetworkCall('/api/posts', 2);
    print('Response 2: \$response2');
  } catch (e) {
    print('Network error: \$e');
  }
  
  // 3. Parallel execution
  print('\\n\\n3. 🔄 Parallel Execution:');
  
  Future<void> fetchDataParallel() async {
    print('Starting parallel requests...');
    
    final stopwatch = Stopwatch()..start();
    
    final futures = [
      simulateNetworkCall('/api/profile', 2),
      simulateNetworkCall('/api/settings', 3),
      simulateNetworkCall('/api/notifications', 1),
    ];
    
    // Wait for all futures to complete
    final results = await Future.wait(futures);
    
    stopwatch.stop();
    
    print('\\nAll requests completed in \${stopwatch.elapsedMilliseconds}ms');
    results.asMap().forEach((index, result) {
      print('Result \${index + 1}: \$result');
    });
  }
  
  await fetchDataParallel();
  
  // 4. Error handling
  print('\\n\\n4. 🚨 Error Handling:');
  
  Future<String> fetchWithError(bool shouldFail) async {
    await Future.delayed(Duration(seconds: 1));
    
    if (shouldFail) {
      throw Exception('Network request failed!');
    }
    
    return 'Data loaded successfully';
  }
  
  // Try-catch with async
  try {
    final data = await fetchWithError(false);
    print('Success: \$data');
  } catch (e) {
    print('Caught error: \$e');
  }
  
  // Handle error with catchError
  fetchWithError(true)
      .then((data) => print('Data: \$data'))
      .catchError((error) => print('Error caught: \$error'));
  
  // 5. Future chaining
  print('\\n\\n5. 🔗 Future Chaining:');
  
  Future<int> getUserId() async {
    await Future.delayed(Duration(milliseconds: 500));
    return Random().nextInt(1000);
  }
  
  Future<String> getUserName(int id) async {
    await Future.delayed(Duration(milliseconds: 500));
    return 'User#\$id';
  }
  
  Future<String> getUserEmail(String name) async {
    await Future.delayed(Duration(milliseconds: 500));
    return '\${name.toLowerCase()}@example.com';
  }
  
  print('Fetching user information...');
  
  // Chain futures
  final userInfo = await getUserId()
      .then((id) => getUserName(id))
      .then((name) => getUserEmail(name));
  
  print('User email: \$userInfo');
  
  // 6. Streams
  print('\\n\\n6. 🌊 Streams:');
  
  Stream<int> countStream(int max) async* {
    for (int i = 1; i <= max; i++) {
      await Future.delayed(Duration(milliseconds: 300));
      yield i;
    }
  }
  
  print('Counting to 5 with Stream:');
  await for (final number in countStream(5)) {
    print('  Count: \$number');
  }
  
  // Stream with error
  Stream<String> dataStream() async* {
    yield 'Data 1';
    await Future.delayed(Duration(milliseconds: 400));
    yield 'Data 2';
    await Future.delayed(Duration(milliseconds: 400));
    throw Exception('Stream error!');
    yield 'Data 3'; // Won't be reached
  }
  
  print('\\nStream with error handling:');
  
  final streamSubscription = dataStream().listen(
    (data) => print('  Received: \$data'),
    onError: (error) => print('  Stream error: \$error'),
    onDone: () => print('  Stream completed'),
    cancelOnError: false,
  );
  
  // Cancel subscription after 2 seconds
  await Future.delayed(Duration(seconds: 2));
  await streamSubscription.cancel();
  
  // 7. Stream transformations
  print('\\n\\n7. 🔄 Stream Transformations:');
  
  Stream<int> numberStream() async* {
    for (int i = 1; i <= 10; i++) {
      await Future.delayed(Duration(milliseconds: 200));
      yield i;
    }
  }
  
  print('Original numbers:');
  await for (final num in numberStream()) {
    print('  \$num');
  }
  
  print('\\nTransformed numbers:');
  
  // Transform stream
  final transformedStream = numberStream()
      .where((n) => n % 2 == 0) // Filter even numbers
      .map((n) => n * 10) // Multiply by 10
      .take(3); // Take only first 3
  
  await for (final num in transformedStream) {
    print('  Transformed: \$num');
  }
  
  // 8. Completer (Manual Future control)
  print('\\n\\n8. 🎛️  Completer:');
  
  Future<String> manualFuture() {
    final completer = Completer<String>();
    
    // Simulate async work
    Future.delayed(Duration(seconds: 2), () {
      final success = Random().nextBool();
      
      if (success) {
        completer.complete('Operation successful!');
      } else {
        completer.completeError('Operation failed!');
      }
    });
    
    return completer.future;
  }
  
  print('Starting manual future...');
  try {
    final result = await manualFuture();
    print('Result: \$result');
  } catch (e) {
    print('Error: \$e');
  }
  
  // 9. Async generators
  print('\\n\\n9. 🔧 Async Generators:');
  
  Stream<String> fetchMessages() async* {
    final messages = [
      'Hello! 👋',
      'How are you? 😊',
      'Dart is awesome! 🎯',
      'Async programming rocks! ⚡',
      'Goodbye! 👋'
    ];
    
    for (final message in messages) {
      await Future.delayed(Duration(milliseconds: 500));
      yield message;
    }
  }
  
  print('Receiving messages:');
  await for (final message in fetchMessages()) {
    print('  Message: \$message');
  }
  
  // 10. Real-world example
  print('\\n\\n10. 🏢 Real-world Example:');
  
  class UserRepository {
    Future<List<String>> fetchUsers() async {
      print('  Fetching users from database...');
      await Future.delayed(Duration(seconds: 1));
      return ['Alice', 'Bob', 'Charlie', 'Diana'];
    }
    
    Future<Map<String, dynamic>> fetchUserDetails(String name) async {
      print('  Fetching details for \$name...');
      await Future.delayed(Duration(milliseconds: 500));
      return {
        'name': name,
        'email': '\${name.toLowerCase()}@company.com',
        'active': Random().nextBool(),
      };
    }
    
    Stream<String> userActivityStream() async* {
      final activities = ['logged in', 'viewed profile', 'updated settings', 'logged out'];
      for (final activity in activities) {
        await Future.delayed(Duration(milliseconds: 800));
        yield activity;
      }
    }
  }
  
  final repo = UserRepository();
  
  print('Simulating user dashboard:');
  
  // Fetch users and their details
  final users = await repo.fetchUsers();
  print('\\nFound \${users.length} users');
  
  final userDetails = await Future.wait(
    users.map((user) => repo.fetchUserDetails(user))
  );
  
  print('\\nUser Details:');
  userDetails.forEach((detail) {
    print('  \${detail['name']}: \${detail['email']} (Active: \${detail['active']})');
  });
  
  // Monitor user activity
  print('\\nMonitoring user activity:');
  final activitySubscription = repo.userActivityStream().listen(
    (activity) => print('  User activity: \$activity'),
    onDone: () => print('  Activity monitoring stopped'),
  );
  
  // Stop after 3 seconds
  await Future.delayed(Duration(seconds: 3));
  await activitySubscription.cancel();
  
  print('\\n' + '═' * 50);
  print('🎯 Async Programming Complete!');
  print('💡 Key concepts covered:');
  print('  • Futures and async/await');
  print('  • Error handling');
  print('  • Parallel execution');
  print('  • Streams and transformations');
  print('  • Real-world patterns');
  print('═' * 50);
}`,
            
            nullsafety: `// Null Safety in Dart
import 'dart:math';

void main() {
  print('🛡️  Dart Null Safety');
  print('─' * 50);
  
  // 1. Non-nullable vs Nullable types
  print('\\n1. 📊 Type System:');
  
  // Non-nullable (can\'t be null)
  String name = 'Dart';
  int age = 25;
  double price = 99.99;
  bool isActive = true;
  
  // Nullable (can be null)
  String? nullableName;
  int? nullableAge;
  double? nullablePrice;
  bool? nullableActive;
  
  print('Non-nullable name: \$name');
  print('Nullable name: \$nullableName');
  print('Nullable age: \$nullableAge');
  
  // 2. Null-aware operators
  print('\\n\\n2. 🔧 Null-aware Operators:');
  
  // Null-aware assignment
  nullableName ??= 'Default Name';
  print('After null-aware assignment: \$nullableName');
  
  // Null-aware access
  String? maybeString;
  print('Length: \${maybeString?.length}'); // Returns null if maybeString is null
  
  // Null-aware method call
  print('Uppercase: \${maybeString?.toUpperCase()}');
  
  // Null assertion operator
  String? definitelyString = 'I am definitely not null!';
  print('Asserted length: \${definitelyString!.length}');
  
  // 3. Null coalescing operator
  print('\\n\\n3. ⚖️  Null Coalescing:');
  
  String? userName;
  String? userEmail;
  
  String displayName = userName ?? 'Guest';
  String displayEmail = userEmail ?? 'No email provided';
  
  print('Display name: \$displayName');
  print('Display email: \$displayEmail');
  
  // Chain null coalescing
  String? primary;
  String? secondary;
  String? tertiary = 'Fallback value';
  
  String result = primary ?? secondary ?? tertiary ?? 'Ultimate fallback';
  print('Chained result: \$result');
  
  // 4. Null-aware cascade
  print('\\n\\n4. 🏗️  Null-aware Cascade:');
  
  class User {
    String? name;
    String? email;
    int? age;
    
    void printInfo() {
      print('User: \$name, Email: \$email, Age: \$age');
    }
  }
  
  User? user;
  
  // Safe cascade - won\'t crash if user is null
  user
    ?..name = 'Alice'
    ..email = 'alice@example.com'
    ..age = 30
    ..printInfo();
  
  user = User();
  user
    ..name = 'Bob'
    ..email = 'bob@example.com'
    ..age = 25
    ..printInfo();
  
  // 5. Null safety in collections
  print('\\n\\n5. 📚 Collections with Null Safety:');
  
  List<String?> nullableList = ['Apple', null, 'Banana', null, 'Cherry'];
  List<String> nonNullableList = ['Dog', 'Cat', 'Bird'];
  
  print('Nullable list: \$nullableList');
  print('Non-nullable list: \$nonNullableList');
  
  // Filter out nulls
  List<String> filteredList = nullableList.whereType<String>().toList();
  print('Filtered (non-null): \$filteredList');
  
  // Map with nullable values
  Map<String, String?> settings = {
    'theme': 'dark',
    'language': null,
    'notifications': 'enabled',
  };
  
  print('\\nSettings:');
  settings.forEach((key, value) {
    print('  \$key: \$value');
  });
  
  // 6. Late variables
  print('\\n\\n6. ⏳ Late Variables:');
  
  class Database {
    late final String _connectionString;
    
    void initialize(String connectionString) {
      _connectionString = connectionString;
    }
    
    void connect() {
      print('Connecting to: \$_connectionString');
    }
  }
  
  final db = Database();
  db.initialize('localhost:5432/mydb');
  db.connect();
  
  // 7. Required parameters
  print('\\n\\n7. ✅ Required Parameters:');
  
  class Product {
    final String name;
    final double price;
    final String? description;
    
    Product({
      required this.name,
      required this.price,
      this.description,
    });
    
    void display() {
      print('\$name - \$\${price.toStringAsFixed(2)}');
      if (description != null) {
        print('  Description: \$description');
      }
    }
  }
  
  final laptop = Product(
    name: 'Laptop',
    price: 999.99,
    description: 'High-performance laptop',
  );
  
  final mouse = Product(
    name: 'Mouse',
    price: 29.99,
  );
  
  laptop.display();
  mouse.display();
  
  // 8. Generic types with null safety
  print('\\n\\n8. 🎯 Generic Types:');
  
  class Box<T> {
    T? content;
    
    Box(this.content);
    
    void showContent() {
      if (content != null) {
        print('Box contains: \$content');
      } else {
        print('Box is empty');
      }
    }
  }
  
  Box<String> stringBox = Box('Secret message');
  Box<int?> intBox = Box(null);
  Box<double> doubleBox = Box(3.14);
  
  stringBox.showContent();
  intBox.showContent();
  doubleBox.showContent();
  
  // 9. Null safety in functions
  print('\\n\\n9. ⚡ Functions with Null Safety:');
  
  // Nullable return type
  String? findUser(int id) {
    final users = {
      1: 'Alice',
      2: 'Bob',
      3: 'Charlie',
    };
    return users[id];
  }
  
  // Non-nullable parameter
  void greetUser(String name) {
    print('Hello, \$name! 👋');
  }
  
  // Nullable parameter
  void sendMessage(String message, [String? recipient]) {
    final to = recipient ?? 'Everyone';
    print('Sending "\$message" to \$to');
  }
  
  // Nullable return with null check
  int? parseNumber(String text) {
    try {
      return int.parse(text);
    } catch (e) {
      return null;
    }
  }
  
  print('Find user 2: \${findUser(2)}');
  print('Find user 99: \${findUser(99)}');
  
  greetUser('Dart Developer');
  sendMessage('Hello World');
  sendMessage('Private message', 'Alice');
  
  final parsed = parseNumber('123') ?? 0;
  print('Parsed number: \$parsed');
  
  // 10. Real-world null safety patterns
  print('\\n\\n10. 🏢 Real-world Patterns:');
  
  class ApiResponse<T> {
    final T? data;
    final String? error;
    final bool success;
    
    ApiResponse.success(this.data)
        : error = null,
          success = true;
    
    ApiResponse.error(this.error)
        : data = null,
          success = false;
    
    void handle() {
      if (success) {
        print('Success: \$data');
      } else {
        print('Error: \$error');
      }
    }
  }
  
  class OrderService {
    Future<ApiResponse<String>> placeOrder(Map<String, dynamic> order) async {
      await Future.delayed(Duration(seconds: 1));
      
      final isValid = order['items'] != null && order['items'].isNotEmpty;
      
      if (isValid) {
        return ApiResponse.success('Order #\${Random().nextInt(10000)}');
      } else {
        return ApiResponse.error('Order must contain items');
      }
    }
  }
  
  final service = OrderService();
  
  print('Placing valid order...');
  final validOrder = {'items': ['Laptop', 'Mouse']};
  final validResponse = await service.placeOrder(validOrder);
  validResponse.handle();
  
  print('\\nPlacing invalid order...');
  final invalidOrder = {'items': []};
  final invalidResponse = await service.placeOrder(invalidOrder);
  invalidResponse.handle();
  
  // 11. Null safety best practices
  print('\\n\\n11. 📋 Best Practices:');
  
  class SafeUser {
    final String name;
    final String email;
    final int? age;
    
    SafeUser({
      required this.name,
      required this.email,
      this.age,
    });
    
    // Factory constructor with validation
    factory SafeUser.fromJson(Map<String, dynamic> json) {
      final name = json['name'] as String?;
      final email = json['email'] as String?;
      final age = json['age'] as int?;
      
      if (name == null || email == null) {
        throw ArgumentError('Name and email are required');
      }
      
      return SafeUser(
        name: name,
        email: email,
        age: age,
      );
    }
    
    // Safe method with null check
    String get greeting {
      final agePart = age != null ? ', \$age years old' : '';
      return 'Hello \$name\$agePart!';
    }
    
    // Null-safe extension-like method
    String? getDomain() {
      final parts = email.split('@');
      return parts.length == 2 ? parts[1] : null;
    }
  }
  
  try {
    final safeUser = SafeUser.fromJson({
      'name': 'Eve',
      'email': 'eve@example.com',
      'age': 28,
    });
    
    print('Safe user created:');
    print('  \${safeUser.greeting}');
    print('  Email domain: \${safeUser.getDomain()}');
    
    final anotherUser = SafeUser.fromJson({
      'name': 'Frank',
      'email': 'frank@example.com',
    });
    
    print('\\nAnother user:');
    print('  \${anotherUser.greeting}');
    print('  Email domain: \${anotherUser.getDomain()}');
    
  } catch (e) {
    print('Error creating user: \$e');
  }
  
  print('\\n' + '═' * 50);
  print('🎯 Null Safety Complete!');
  print('💡 Key benefits:');
  print('  • Prevents null reference errors');
  print('  • Makes intent clear in code');
  print('  • Reduces runtime exceptions');
  print('  • Improves code maintainability');
  print('═' * 50);
}`,
            
            flutter: `// Flutter-like UI Structure in Dart
// Note: This is a console simulation of Flutter concepts

import 'dart:math';

void main() {
  print('🎨 Flutter UI Concepts in Dart');
  print('─' * 60);
  
  // 1. Widget Tree Structure
  print('\\n1. 🌳 Widget Tree:');
  
  abstract class Widget {
    void build();
  }
  
  class Container extends Widget {
    final Widget? child;
    final double? width;
    final double? height;
    final String? color;
    
    Container({
      this.child,
      this.width,
      this.height,
      this.color,
    });
    
    @override
    void build() {
      print('📦 Container:');
      print('  Size: \${width ?? "auto"} x \${height ?? "auto"}');
      print('  Color: \${color ?? "transparent"}');
      if (child != null) {
        print('  Contains child widget');
        child!.build();
      }
    }
  }
  
  class Text extends Widget {
    final String data;
    final double? fontSize;
    final String? color;
    
    Text(
      this.data, {
      this.fontSize,
      this.color,
    });
    
    @override
    void build() {
      print('📝 Text: "\$data"');
      print('  Font size: \${fontSize ?? 14}px');
      print('  Color: \${color ?? "black"}');
    }
  }
  
  class Column extends Widget {
    final List<Widget> children;
    final MainAxisAlignment mainAxisAlignment;
    
    Column({
      required this.children,
      this.mainAxisAlignment = MainAxisAlignment.start,
    });
    
    @override
    void build() {
      print('📐 Column:');
      print('  Alignment: \$mainAxisAlignment');
      print('  Children count: \${children.length}');
      for (final child in children) {
        child.build();
      }
    }
  }
  
  class Row extends Widget {
    final List<Widget> children;
    final MainAxisAlignment mainAxisAlignment;
    
    Row({
      required this.children,
      this.mainAxisAlignment = MainAxisAlignment.start,
    });
    
    @override
    void build() {
      print('↔️  Row:');
      print('  Alignment: \$mainAxisAlignment');
      print('  Children count: \${children.length}');
      for (final child in children) {
        child.build();
      }
    }
  }
  
  enum MainAxisAlignment {
    start,
    center,
    end,
    spaceBetween,
    spaceAround,
    spaceEvenly,
  }
  
  // Build a simple widget tree
  print('Building widget tree...');
  print('');
  
  final app = Container(
    width: 400,
    height: 600,
    color: '#F5F5F5',
    child: Column(
      children: [
        Container(
          height: 100,
          color: '#2196F3',
          child: Text(
            'Flutter Demo App',
            fontSize: 24,
            color: 'white',
          ),
        ),
        SizedBox(height: 20),
        Row(
          mainAxisAlignment: MainAxisAlignment.spaceEvenly,
          children: [
            Container(
              width: 100,
              height: 100,
              color: '#FF9800',
              child: Text('Button 1', color: 'white'),
            ),
            Container(
              width: 100,
              height: 100,
              color: '#4CAF50',
              child: Text('Button 2', color: 'white'),
            ),
            Container(
              width: 100,
              height: 100,
              color: '#F44336',
              child: Text('Button 3', color: 'white'),
            ),
          ],
        ),
        SizedBox(height: 20),
        Container(
          padding: EdgeInsets.all(16),
          color: 'white',
          child: Column(
            children: [
              Text('Welcome to Flutter!', fontSize: 20),
              SizedBox(height: 10),
              Text('Build beautiful native apps in record time'),
            ],
          ),
        ),
      ],
    ),
  );
  
  app.build();
  
  // 2. State Management Simulation
  print('\\n\\n2. 🎮 State Management:');
  
  class Counter extends Widget {
    int count = 0;
    
    @override
    void build() {
      print('🧮 Counter: \$count');
    }
    
    void increment() {
      count++;
      print('Counter incremented to: \$count');
    }
    
    void decrement() {
      count--;
      print('Counter decremented to: \$count');
    }
    
    void reset() {
      count = 0;
      print('Counter reset to: \$count');
    }
  }
  
  final counter = Counter();
  counter.build();
  
  print('\\nSimulating user interactions:');
  counter.increment();
  counter.increment();
  counter.decrement();
  counter.reset();
  
  // 3. Navigation Simulation
  print('\\n\\n3. 🧭 Navigation:');
  
  class Navigator {
    final List<String> _routeHistory = [];
    String _currentRoute = '/';
    
    void push(String route) {
      _routeHistory.add(_currentRoute);
      _currentRoute = route;
      print('➡️  Navigated to: \$route');
      _printRouteHistory();
    }
    
    void pop() {
      if (_routeHistory.isNotEmpty) {
        _currentRoute = _routeHistory.removeLast();
        print('⬅️  Navigated back to: \$_currentRoute');
        _printRouteHistory();
      }
    }
    
    void _printRouteHistory() {
      print('  Route history: \$_routeHistory');
      print('  Current route: \$_currentRoute');
    }
  }
  
  final navigator = Navigator();
  
  print('Simulating navigation flow:');
  navigator.push('/home');
  navigator.push('/profile');
  navigator.push('/settings');
  navigator.pop();
  navigator.pop();
  
  // 4. Theme Simulation
  print('\\n\\n4. 🎨 Theme System:');
  
  class ThemeData {
    final String primaryColor;
    final String accentColor;
    final String backgroundColor;
    final String textColor;
    final double borderRadius;
    final double elevation;
    
    ThemeData({
      required this.primaryColor,
      required this.accentColor,
      required this.backgroundColor,
      required this.textColor,
      this.borderRadius = 8.0,
      this.elevation = 2.0,
    });
    
    void apply() {
      print('🎨 Applying theme:');
      print('  Primary: \$primaryColor');
      print('  Accent: \$accentColor');
      print('  Background: \$backgroundColor');
      print('  Text: \$textColor');
      print('  Border radius: \$borderRadius');
      print('  Elevation: \$elevation');
    }
  }
  
  final lightTheme = ThemeData(
    primaryColor: '#2196F3',
    accentColor: '#FF9800',
    backgroundColor: '#FFFFFF',
    textColor: '#000000',
  );
  
  final darkTheme = ThemeData(
    primaryColor: '#BB86FC',
    accentColor: '#03DAC6',
    backgroundColor: '#121212',
    textColor: '#FFFFFF',
    borderRadius: 12.0,
    elevation: 4.0,
  );
  
  print('Light Theme:');
  lightTheme.apply();
  
  print('\\nDark Theme:');
  darkTheme.apply();
  
  // 5. Animation Simulation
  print('\\n\\n5. 🎬 Animation:');
  
  class AnimationController {
    double _value = 0.0;
    bool _isAnimating = false;
    
    void animateTo(double target, {int duration = 1000}) async {
      _isAnimating = true;
      print('🎬 Animating from \$_value to \$target');
      
      final steps = 10;
      final stepValue = (target - _value) / steps;
      
      for (int i = 0; i <= steps; i++) {
        if (!_isAnimating) break;
        
        _value += stepValue;
        print('  Step \$i: \${_value.toStringAsFixed(2)}');
        
        await Future.delayed(Duration(milliseconds: duration ~/ steps));
      }
      
      _value = target;
      _isAnimating = false;
      print('✅ Animation complete: \$_value');
    }
    
    void stop() {
      _isAnimating = false;
      print('⏹️  Animation stopped at: \${_value.toStringAsFixed(2)}');
    }
  }
  
  final animation = AnimationController();
  print('Starting animation...');
  
  // Start animation but stop it early to demonstrate
  animation.animateTo(1.0, duration: 2000);
  
  // Stop after 500ms
  await Future.delayed(Duration(milliseconds: 500));
  animation.stop();
  
  // 6. HTTP Client Simulation
  print('\\n\\n6. 🌐 HTTP Client:');
  
  class HttpClient {
    Future<Map<String, dynamic>> get(String url) async {
      print('📡 GET request to: \$url');
      await Future.delayed(Duration(seconds: 1));
      
      // Simulate response
      return {
        'status': 200,
        'data': {
          'id': 1,
          'title': 'Sample Post',
          'body': 'This is a sample response from the server.',
          'userId': 1,
        },
        'timestamp': DateTime.now().toIso8601String(),
      };
    }
    
    Future<Map<String, dynamic>> post(String url, Map<String, dynamic> data) async {
      print('📡 POST request to: \$url');
      print('  Data: \$data');
      await Future.delayed(Duration(seconds: 1));
      
      return {
        'status': 201,
        'data': {
          ...data,
          'id': Random().nextInt(1000),
          'createdAt': DateTime.now().toIso8601String(),
        },
        'message': 'Resource created successfully',
      };
    }
  }
  
  final httpClient = HttpClient();
  
  print('Fetching data from API...');
  final getResponse = await httpClient.get('https://api.example.com/posts/1');
  print('Response: \$getResponse');
  
  print('\\nPosting data to API...');
  final postResponse = await httpClient.post(
    'https://api.example.com/posts',
    {
      'title': 'New Post',
      'body': 'This is a new post created via API',
      'userId': 1,
    },
  );
  print('Response: \$postResponse');
  
  // 7. Database Simulation
  print('\\n\\n7. 💾 Database (simulated):');
  
  class Database {
    final Map<String, List<Map<String, dynamic>>> _tables = {};
    
    Future<void> insert(String table, Map<String, dynamic> data) async {
      print('💾 Inserting into \$table:');
      print('  Data: \$data');
      
      if (!_tables.containsKey(table)) {
        _tables[table] = [];
      }
      
      final id = _tables[table]!.length + 1;
      final record = {
        'id': id,
        ...data,
        'createdAt': DateTime.now().toIso8601String(),
        'updatedAt': DateTime.now().toIso8601String(),
      };
      
      _tables[table]!.add(record);
      await Future.delayed(Duration(milliseconds: 500));
      
      print('  ✅ Inserted record with id: \$id');
    }
    
    Future<List<Map<String, dynamic>>> query(String table, {String? where}) async {
      print('💾 Querying \$table');
      if (where != null) {
        print('  Where: \$where');
      }
      
      await Future.delayed(Duration(milliseconds: 300));
      return _tables[table] ?? [];
    }
    
    void printTables() {
      print('\\nDatabase Tables:');
      _tables.forEach((table, records) {
        print('  \$table (\${records.length} records)');
      });
    }
  }
  
  final db = Database();
  
  print('Setting up database...');
  await db.insert('users', {
    'name': 'Alice',
    'email': 'alice@example.com',
    'age': 25,
  });
  
  await db.insert('users', {
    'name': 'Bob',
    'email': 'bob@example.com',
    'age': 30,
  });
  
  await db.insert('products', {
    'name': 'Laptop',
    'price': 999.99,
    'stock': 10,
  });
  
  db.printTables();
  
  final users = await db.query('users');
  print('\\nAll users:');
  users.forEach((user) {
    print('  \${user['id']}: \${user['name']} (\${user['email']})');
  });
  
  // 8. Real-world Flutter App Structure
  print('\\n\\n8. 🏗️  Complete App Structure:');
  
  class FlutterApp {
    final String name;
    final String version;
    final ThemeData theme;
    final Navigator navigator;
    
    FlutterApp({
      required this.name,
      required this.version,
      required this.theme,
      required this.navigator,
    });
    
    void run() {
      print('🚀 Running \$name v\$version');
      theme.apply();
      print('🏠 Initial route: \${navigator._currentRoute}');
    }
    
    void simulateUserJourney() {
      print('\\n👤 Simulating user journey:');
      
      // User opens app
      print('1. User opens app');
      run();
      
      // User navigates
      print('\\n2. User navigates to products');
      navigator.push('/products');
      
      // User interacts with product
      print('\\n3. User views product details');
      navigator.push('/products/1');
      
      // User adds to cart
      print('\\n4. User adds to cart');
      final cartCounter = Counter();
      cartCounter.increment();
      
      // User checks out
      print('\\n5. User proceeds to checkout');
      navigator.push('/checkout');
      
      // User goes back
      print('\\n6. User goes back to products');
      navigator.pop();
      
      print('\\n✅ User journey simulation complete!');
    }
  }
  
  final myApp = FlutterApp(
    name: 'E-Commerce App',
    version: '1.0.0',
    theme: lightTheme,
    navigator: navigator,
  );
  
  myApp.simulateUserJourney();
  
  print('\\n' + '═' * 60);
  print('🎯 Flutter Concepts Complete!');
  print('💡 Key concepts simulated:');
  print('  • Widget tree and composition');
  print('  • State management');
  print('  • Navigation');
  print('  • Theming');
  print('  • Animations');
  print('  • HTTP requests');
  print('  • Database operations');
  print('═' * 60);
}

// Helper classes for the simulation
class SizedBox extends Widget {
  final double? width;
  final double? height;
  
  SizedBox({this.width, this.height});
  
  @override
  void build() {
    print('📏 SizedBox: \${width ?? "auto"} x \${height ?? "auto"}');
  }
}

class EdgeInsets {
  final double top;
  final double right;
  final double bottom;
  final double left;
  
  const EdgeInsets.all(double value)
      : top = value,
        right = value,
        bottom = value,
        left = value;
  
  @override
  String toString() {
    return 'EdgeInsets(top: \$top, right: \$right, bottom: \$bottom, left: \$left)';
  }
}
`);
        };

        // Load example code with animation
        document.querySelectorAll('.example-card').forEach(card => {
            card.addEventListener('click', () => {
                const example = card.dataset.example;
                if (examples[example]) {
                    // Add click animation
                    card.style.animation = 'pulse 0.5s ease-in-out';
                    setTimeout(() => {
                        card.style.animation = '';
                    }, 500);
                    
                    editor.setValue(examples[example]);
                    addTerminalLine('success', `✨ Loaded ${card.querySelector('h4').textContent} example`);
                    editor.focus();
                    updateDebugInfo();
                }
            });
        });

        // Handle Ctrl+Enter to run code
        editor.on('keydown', (cm, event) => {
            if ((event.ctrlKey || event.metaKey) && event.key === 'Enter') {
                event.preventDefault();
                document.getElementById('runBtn').click();
            }
        });

        // Auto-focus editor and update debug info
        editor.focus();
        
        // Update debug info periodically
        setInterval(updateDebugInfo, 10000);
        
        // Add welcome message
        setTimeout(() => {
            addTerminalLine('info', '🚀 Welcome to Dart Code Editor!');
            addTerminalLine('info', '💡 Try running the examples or writing your own Dart code');
        }, 1000);
    </script>
</body>
</html>